// This file is auto-generated by @hey-api/openapi-ts

export const AccreditationBodySchema = {
    type: 'string',
    enum: [
        'snars',
        'kars',
        'kemenkesKlinik',
        'kemenkesPuskesmas'
    ],
    description: 'Accreditation body'
} as const;

export const AccreditationLevelSchema = {
    type: 'string',
    enum: [
        'notAccredited',
        'basic',
        'intermediate',
        'advanced',
        'excellent'
    ],
    description: 'Accreditation level'
} as const;

export const AccreditationStandardSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'accreditationBody',
        'currentLevel',
        'status',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        accreditationBody: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationBody'
                }
            ],
            description: 'Accreditation body'
        },
        currentLevel: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationLevel'
                }
            ],
            description: 'Current level'
        },
        targetLevel: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationLevel'
                }
            ],
            description: 'Target level'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationStatus'
                }
            ],
            description: 'Status'
        },
        lastAccreditedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Last accredited date'
        },
        expiresAt: {
            type: 'string',
            format: 'date-time',
            description: 'Expiry date'
        },
        nextSurveyDate: {
            type: 'string',
            format: 'date',
            description: 'Next survey date'
        },
        selfAssessmentScore: {
            type: 'number',
            format: 'double',
            description: 'Self-assessment score'
        },
        surveyScore: {
            type: 'number',
            format: 'double',
            description: 'Survey score'
        },
        surveyorOrganization: {
            type: 'string',
            description: 'Surveyor organization'
        },
        surveyorTeam: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    name: {
                        type: 'string'
                    },
                    role: {
                        type: 'string'
                    },
                    specialty: {
                        type: 'string'
                    }
                },
                required: [
                    'name',
                    'role'
                ]
            },
            description: 'Surveyor team'
        },
        certificateNumber: {
            type: 'string',
            description: 'Certificate number'
        },
        certificateUrl: {
            type: 'string',
            description: 'Certificate URL'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Accreditation Standard\n\nTracks accreditation status for organization/branch'
} as const;

export const AccreditationStandardListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/AccreditationStandard'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Accreditation standard list response'
} as const;

export const AccreditationStandardResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationStandard'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single accreditation standard response'
} as const;

export const AccreditationStatusSchema = {
    type: 'string',
    enum: [
        'notStarted',
        'preparing',
        'selfAssessment',
        'submitted',
        'surveyed',
        'accredited',
        'lapsed'
    ],
    description: 'Accreditation status'
} as const;

export const ActiveContextSchema = {
    type: 'object',
    required: [
        'userId',
        'activeApplicationId',
        'updatedAt'
    ],
    properties: {
        userId: {
            type: 'string',
            description: 'User ID',
            example: 'usr_123'
        },
        activeApplicationId: {
            type: 'string',
            description: 'Currently active application ID',
            example: 'app_default'
        },
        activeTenantId: {
            type: 'string',
            description: 'Currently active tenant ID (null if no tenant selected)',
            example: 'org_abc123'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the context was last updated'
        }
    },
    description: 'User\'s active context (current app/tenant selection)'
} as const;

export const ActiveContextResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/ActiveContext'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Active context response'
} as const;

export const AllergySeveritySchema = {
    type: 'string',
    enum: [
        'mild',
        'moderate',
        'severe',
        'lifeThreatening'
    ],
    description: 'Allergy severity'
} as const;

export const AllergyTypeSchema = {
    type: 'string',
    enum: [
        'food',
        'medication',
        'environmental',
        'other'
    ],
    description: 'Allergy type'
} as const;

export const AppointmentSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'appointmentNumber',
        'patientId',
        'practitionerId',
        'polyclinicId',
        'appointmentType',
        'status',
        'appointmentDate',
        'startTime',
        'priority',
        'isWalkIn',
        'isOnline',
        'isVideoCall',
        'isFollowUp',
        'isJknSynced',
        'isDeleted',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique appointment identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        appointmentNumber: {
            type: 'string',
            description: 'Appointment number',
            example: 'APT-2024-001234'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID'
        },
        polyclinicId: {
            type: 'string',
            description: 'Polyclinic ID'
        },
        appointmentSlotId: {
            type: 'string',
            description: 'Appointment slot ID (if booked via slot)'
        },
        appointmentType: {
            allOf: [
                {
                    $ref: '#/components/schemas/AppointmentType'
                }
            ],
            description: 'Appointment type'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/AppointmentStatus'
                }
            ],
            description: 'Appointment status'
        },
        appointmentDate: {
            type: 'string',
            format: 'date',
            description: 'Appointment date'
        },
        startTime: {
            type: 'string',
            description: 'Start time (HH:mm)'
        },
        endTime: {
            type: 'string',
            description: 'End time (HH:mm)'
        },
        duration: {
            type: 'string',
            description: 'Duration (in minutes)'
        },
        priority: {
            allOf: [
                {
                    $ref: '#/components/schemas/QueuePriority'
                }
            ],
            description: 'Priority'
        },
        reasonForVisit: {
            type: 'string',
            description: 'Reason for visit'
        },
        symptoms: {
            type: 'string',
            description: 'Symptoms description'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        isWalkIn: {
            type: 'boolean',
            description: 'Whether this is a walk-in'
        },
        isOnline: {
            type: 'boolean',
            description: 'Whether this is an online booking'
        },
        isVideoCall: {
            type: 'boolean',
            description: 'Whether this is a video call'
        },
        isFollowUp: {
            type: 'boolean',
            description: 'Whether this is a follow-up appointment'
        },
        previousAppointmentId: {
            type: 'string',
            description: 'Previous appointment ID (for follow-ups)'
        },
        bpjsAntreanKodeBooking: {
            type: 'string',
            description: 'BPJS booking code'
        },
        isJknSynced: {
            type: 'boolean',
            description: 'JKN sync status'
        },
        jknSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to JKN'
        },
        jknSyncError: {
            type: 'string',
            description: 'JKN sync error message'
        },
        checkedInAt: {
            type: 'string',
            format: 'date-time',
            description: 'Check-in time'
        },
        checkedInBy: {
            type: 'string',
            description: 'Who performed check-in'
        },
        startedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When appointment started'
        },
        completedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Completion time'
        },
        noShowAt: {
            type: 'string',
            format: 'date-time',
            description: 'When marked as no-show'
        },
        cancellationReason: {
            type: 'string',
            description: 'Cancellation reason'
        },
        cancelledBy: {
            type: 'string',
            description: 'Who cancelled'
        },
        cancelledAt: {
            type: 'string',
            format: 'date-time',
            description: 'When cancelled'
        },
        isDeleted: {
            type: 'boolean',
            description: 'Soft delete status'
        },
        deletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When deleted'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Appointment resource\n\nRepresents a scheduled patient visit'
} as const;

export const AppointmentListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Appointment'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Appointment list response'
} as const;

export const AppointmentReminderSchema = {
    type: 'object',
    required: [
        'id',
        'appointmentId',
        'reminderType',
        'scheduledAt',
        'isSent',
        'createdAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        appointmentId: {
            type: 'string',
            description: 'Appointment ID'
        },
        reminderType: {
            type: 'string',
            enum: [
                'sms',
                'email',
                'push',
                'whatsapp'
            ],
            description: 'Reminder type'
        },
        scheduledAt: {
            type: 'string',
            format: 'date-time',
            description: 'Scheduled send time'
        },
        sentAt: {
            type: 'string',
            format: 'date-time',
            description: 'Actual send time'
        },
        isSent: {
            type: 'boolean',
            description: 'Whether reminder was sent successfully'
        },
        errorMessage: {
            type: 'string',
            description: 'Error message if failed'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        }
    },
    description: 'Appointment reminder'
} as const;

export const AppointmentResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Appointment'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single appointment response'
} as const;

export const AppointmentSlotSchema = {
    type: 'object',
    required: [
        'id',
        'practitionerId',
        'polyclinicId',
        'slotDate',
        'startTime',
        'endTime',
        'duration',
        'isAvailable',
        'isBooked',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID'
        },
        polyclinicId: {
            type: 'string',
            description: 'Polyclinic ID'
        },
        slotDate: {
            type: 'string',
            format: 'date',
            description: 'Slot date'
        },
        startTime: {
            type: 'string',
            description: 'Start time (HH:mm)'
        },
        endTime: {
            type: 'string',
            description: 'End time (HH:mm)'
        },
        duration: {
            type: 'string',
            description: 'Duration in minutes'
        },
        isAvailable: {
            type: 'boolean',
            description: 'Whether slot is available'
        },
        isBooked: {
            type: 'boolean',
            description: 'Whether slot is booked'
        },
        bookedBy: {
            type: 'string',
            description: 'Who booked (user ID)'
        },
        bookedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When booked'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Appointment slot (time slot for booking)'
} as const;

export const AppointmentSlotListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/AppointmentSlot'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Slot list response'
} as const;

export const AppointmentSlotResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/AppointmentSlot'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single slot response'
} as const;

export const AppointmentStatusSchema = {
    type: 'string',
    enum: [
        'booked',
        'confirmed',
        'checkedIn',
        'inQueue',
        'completed',
        'cancelled',
        'noShow'
    ],
    description: 'Appointment status'
} as const;

export const AppointmentTypeSchema = {
    type: 'string',
    enum: [
        'consultation',
        'followUp',
        'procedure',
        'lab',
        'imaging',
        'vaccination',
        'checkup'
    ],
    description: 'Appointment type'
} as const;

export const AppointmentWithRelationsResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                id: {
                    type: 'string',
                    description: 'Unique appointment identifier'
                },
                organizationId: {
                    type: 'string',
                    description: 'Organization ID (tenant scope)'
                },
                branchId: {
                    type: 'string',
                    description: 'Branch ID'
                },
                appointmentNumber: {
                    type: 'string',
                    description: 'Appointment number',
                    example: 'APT-2024-001234'
                },
                patientId: {
                    type: 'string',
                    description: 'Patient ID'
                },
                practitionerId: {
                    type: 'string',
                    description: 'Practitioner ID'
                },
                polyclinicId: {
                    type: 'string',
                    description: 'Polyclinic ID'
                },
                appointmentSlotId: {
                    type: 'string',
                    description: 'Appointment slot ID (if booked via slot)'
                },
                appointmentType: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/AppointmentType'
                        }
                    ],
                    description: 'Appointment type'
                },
                status: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/AppointmentStatus'
                        }
                    ],
                    description: 'Appointment status'
                },
                appointmentDate: {
                    type: 'string',
                    format: 'date',
                    description: 'Appointment date'
                },
                startTime: {
                    type: 'string',
                    description: 'Start time (HH:mm)'
                },
                endTime: {
                    type: 'string',
                    description: 'End time (HH:mm)'
                },
                duration: {
                    type: 'string',
                    description: 'Duration (in minutes)'
                },
                priority: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/QueuePriority'
                        }
                    ],
                    description: 'Priority'
                },
                reasonForVisit: {
                    type: 'string',
                    description: 'Reason for visit'
                },
                symptoms: {
                    type: 'string',
                    description: 'Symptoms description'
                },
                notes: {
                    type: 'string',
                    description: 'Notes'
                },
                isWalkIn: {
                    type: 'boolean',
                    description: 'Whether this is a walk-in'
                },
                isOnline: {
                    type: 'boolean',
                    description: 'Whether this is an online booking'
                },
                isVideoCall: {
                    type: 'boolean',
                    description: 'Whether this is a video call'
                },
                isFollowUp: {
                    type: 'boolean',
                    description: 'Whether this is a follow-up appointment'
                },
                previousAppointmentId: {
                    type: 'string',
                    description: 'Previous appointment ID (for follow-ups)'
                },
                bpjsAntreanKodeBooking: {
                    type: 'string',
                    description: 'BPJS booking code'
                },
                isJknSynced: {
                    type: 'boolean',
                    description: 'JKN sync status'
                },
                jknSyncedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When synced to JKN'
                },
                jknSyncError: {
                    type: 'string',
                    description: 'JKN sync error message'
                },
                checkedInAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'Check-in time'
                },
                checkedInBy: {
                    type: 'string',
                    description: 'Who performed check-in'
                },
                startedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When appointment started'
                },
                completedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'Completion time'
                },
                noShowAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When marked as no-show'
                },
                cancellationReason: {
                    type: 'string',
                    description: 'Cancellation reason'
                },
                cancelledBy: {
                    type: 'string',
                    description: 'Who cancelled'
                },
                cancelledAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When cancelled'
                },
                isDeleted: {
                    type: 'boolean',
                    description: 'Soft delete status'
                },
                deletedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When deleted'
                },
                createdAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When created'
                },
                updatedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When updated'
                },
                patient: {
                    type: 'object',
                    properties: {
                        id: {
                            type: 'string'
                        },
                        fullName: {
                            type: 'string'
                        },
                        medicalRecordNumber: {
                            type: 'string'
                        }
                    },
                    required: [
                        'id',
                        'fullName',
                        'medicalRecordNumber'
                    ]
                },
                practitioner: {
                    type: 'object',
                    properties: {
                        id: {
                            type: 'string'
                        },
                        fullName: {
                            type: 'string'
                        },
                        specialty: {
                            $ref: '#/components/schemas/Specialty'
                        }
                    },
                    required: [
                        'id',
                        'fullName'
                    ]
                },
                polyclinic: {
                    type: 'object',
                    properties: {
                        id: {
                            type: 'string'
                        },
                        polyclinicName: {
                            type: 'string'
                        }
                    },
                    required: [
                        'id',
                        'polyclinicName'
                    ]
                },
                queue: {
                    $ref: '#/components/schemas/Queue'
                }
            },
            required: [
                'id',
                'organizationId',
                'appointmentNumber',
                'patientId',
                'practitionerId',
                'polyclinicId',
                'appointmentType',
                'status',
                'appointmentDate',
                'startTime',
                'priority',
                'isWalkIn',
                'isOnline',
                'isVideoCall',
                'isFollowUp',
                'isJknSynced',
                'isDeleted',
                'createdAt',
                'updatedAt'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Appointment with related data'
} as const;

export const ApproveRefundRequestSchema = {
    type: 'object',
    properties: {
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for approving refund'
} as const;

export const AssignRoleRequestSchema = {
    type: 'object',
    required: [
        'roleId'
    ],
    properties: {
        roleId: {
            type: 'string',
            description: 'Role ID to assign'
        }
    },
    description: 'Request to assign a role to a user'
} as const;

export const AsyncJobResponseSchema = {
    type: 'object',
    required: [
        'jobId',
        'status',
        'statusUrl',
        'meta'
    ],
    properties: {
        jobId: {
            type: 'string',
            description: 'Unique job identifier'
        },
        status: {
            type: 'string',
            enum: [
                'pending',
                'processing',
                'completed',
                'failed'
            ],
            description: 'Current job status'
        },
        statusUrl: {
            type: 'string',
            description: 'URL to check job status'
        },
        estimatedCompletion: {
            type: 'string',
            format: 'date-time',
            description: 'Estimated completion time'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Response for async operations that return 202 Accepted'
} as const;

export const AuditActorSchema = {
    type: 'object',
    required: [
        'type',
        'id'
    ],
    properties: {
        type: {
            allOf: [
                {
                    $ref: '#/components/schemas/AuditActorType'
                }
            ],
            description: 'Type of actor'
        },
        id: {
            type: 'string',
            description: 'Actor ID (user ID, service account ID, or "system")',
            example: 'usr_123'
        },
        email: {
            type: 'string',
            description: 'Actor email (for users)',
            example: 'admin@example.com'
        },
        ipAddress: {
            type: 'string',
            description: 'IP address of the actor',
            example: '192.168.1.1'
        },
        userAgent: {
            type: 'string',
            description: 'User agent string'
        }
    },
    description: 'Actor who performed the action'
} as const;

export const AuditActorTypeSchema = {
    type: 'string',
    enum: [
        'user',
        'service',
        'system'
    ],
    description: 'Actor type - who performed the action'
} as const;

export const AuditChangeSchema = {
    type: 'object',
    required: [
        'old',
        'new'
    ],
    properties: {
        old: {
            description: 'Value before the change'
        },
        new: {
            description: 'Value after the change'
        }
    },
    description: 'Change record for a single field'
} as const;

export const AuditLogSchema = {
    type: 'object',
    required: [
        'eventId',
        'eventType',
        'timestamp',
        'tenantId',
        'actor',
        'resource'
    ],
    properties: {
        eventId: {
            type: 'string',
            description: 'Unique event identifier (format: evt_abc123)',
            example: 'evt_abc123'
        },
        eventType: {
            type: 'string',
            description: 'Event type (format: resource.action)',
            example: 'user.updated'
        },
        timestamp: {
            type: 'string',
            format: 'date-time',
            description: 'When the event occurred'
        },
        tenantId: {
            type: 'string',
            description: 'Tenant where the event occurred',
            example: 'org_xyz789'
        },
        actor: {
            allOf: [
                {
                    $ref: '#/components/schemas/AuditActor'
                }
            ],
            description: 'Who performed the action'
        },
        resource: {
            allOf: [
                {
                    $ref: '#/components/schemas/AuditResource'
                }
            ],
            description: 'What resource was affected'
        },
        changes: {
            type: 'object',
            additionalProperties: {
                $ref: '#/components/schemas/AuditChange'
            },
            description: 'Changes made (for update operations)'
        },
        resourceBefore: {
            type: 'object',
            additionalProperties: {},
            description: 'Full resource state before the action (for deletes, sensitive ops)'
        },
        resourceAfter: {
            type: 'object',
            additionalProperties: {},
            description: 'Full resource state after the action (for creates, sensitive ops)'
        },
        metadata: {
            allOf: [
                {
                    $ref: '#/components/schemas/AuditMetadata'
                }
            ],
            description: 'Additional context'
        }
    },
    description: 'Audit log entry\n\nImmutable record of an action in the system.'
} as const;

export const AuditLogListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/AuditLog'
            }
        },
        pagination: {
            $ref: '#/components/schemas/Pagination'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Audit log list response'
} as const;

export const AuditLogResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/AuditLog'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Single audit log response'
} as const;

export const AuditMetadataSchema = {
    type: 'object',
    properties: {
        requestId: {
            type: 'string',
            description: 'Request ID for correlation',
            example: 'req_7k3m9x2p4b'
        },
        sessionId: {
            type: 'string',
            description: 'Session ID',
            example: 'ses_def456'
        },
        reason: {
            type: 'string',
            description: 'Reason for the action (if provided)'
        },
        extra: {
            type: 'object',
            additionalProperties: {},
            description: 'Additional context-specific data'
        }
    },
    description: 'Additional metadata for the audit event'
} as const;

export const AuditResourceSchema = {
    type: 'object',
    required: [
        'type',
        'id'
    ],
    properties: {
        type: {
            type: 'string',
            description: 'Resource type',
            example: 'user'
        },
        id: {
            type: 'string',
            description: 'Resource ID',
            example: 'usr_456'
        },
        endpoint: {
            type: 'string',
            description: 'API endpoint that was called',
            example: '/v1/orgs/org_xyz789/users/usr_456'
        },
        method: {
            type: 'string',
            description: 'HTTP method used',
            example: 'PATCH'
        }
    },
    description: 'Resource affected by the action'
} as const;

export const BatchDeleteResponseSchema = {
    type: 'object',
    required: [
        'results',
        'summary',
        'meta'
    ],
    properties: {
        results: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/BatchDeleteResult'
            },
            description: 'Results for each item in the batch'
        },
        summary: {
            allOf: [
                {
                    $ref: '#/components/schemas/BatchSummary'
                }
            ],
            description: 'Summary of operation results'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Batch delete response envelope'
} as const;

export const BatchDeleteResultSchema = {
    type: 'object',
    required: [
        'index',
        'status'
    ],
    properties: {
        index: {
            type: 'integer',
            format: 'int32',
            description: 'Index of the item in the original request array'
        },
        status: {
            type: 'string',
            enum: [
                'success',
                'error',
                'skipped'
            ],
            description: 'Status of the operation for this item'
        },
        data: {
            type: 'object',
            properties: {
                id: {
                    type: 'string',
                    description: 'ID of the deleted item'
                },
                deletedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'Timestamp when the item was deleted'
                }
            },
            required: [
                'id',
                'deletedAt'
            ],
            description: 'Deleted item info (present if status is success)'
        },
        error: {
            type: 'object',
            properties: {
                code: {
                    type: 'string',
                    description: 'Error code'
                },
                message: {
                    type: 'string',
                    description: 'Error message'
                }
            },
            required: [
                'code',
                'message'
            ],
            description: 'Error details (present if status is error)'
        }
    },
    description: 'Batch delete result (soft delete)'
} as const;

export const BatchOptionsSchema = {
    type: 'object',
    properties: {
        atomic: {
            type: 'boolean',
            description: 'If true, all items succeed or all fail (transactional)'
        },
        returnRecords: {
            type: 'boolean',
            description: 'If true, return created/updated records in response'
        },
        skipDuplicates: {
            type: 'boolean',
            description: 'If true, skip items that already exist (duplicates)'
        },
        validateOnly: {
            type: 'boolean',
            description: 'If true, validate without actually creating/updating'
        }
    },
    description: 'Options for batch operations'
} as const;

export const BatchSummarySchema = {
    type: 'object',
    required: [
        'total',
        'successful',
        'failed',
        'skipped'
    ],
    properties: {
        total: {
            type: 'integer',
            format: 'int32',
            description: 'Total number of items in the request'
        },
        successful: {
            type: 'integer',
            format: 'int32',
            description: 'Number of successfully processed items'
        },
        failed: {
            type: 'integer',
            format: 'int32',
            description: 'Number of failed items'
        },
        skipped: {
            type: 'integer',
            format: 'int32',
            description: 'Number of skipped items (e.g., duplicates)'
        }
    },
    description: 'Summary of batch operation results'
} as const;

export const BillableItemTypeSchema = {
    type: 'string',
    enum: [
        'consultation',
        'procedure',
        'medication',
        'labTest',
        'radiology',
        'room',
        'supply',
        'other'
    ],
    description: 'Billable item type'
} as const;

export const BillingSummarySchema = {
    type: 'object',
    required: [
        'totalInvoices',
        'totalInvoicedAmount',
        'totalPaidAmount',
        'totalOutstanding',
        'totalOverdue',
        'byPaymentType',
        'byStatus'
    ],
    properties: {
        totalInvoices: {
            type: 'integer',
            format: 'int32',
            description: 'Total invoices'
        },
        totalInvoicedAmount: {
            type: 'number',
            format: 'double',
            description: 'Total invoiced amount'
        },
        totalPaidAmount: {
            type: 'number',
            format: 'double',
            description: 'Total paid amount'
        },
        totalOutstanding: {
            type: 'number',
            format: 'double',
            description: 'Total outstanding'
        },
        totalOverdue: {
            type: 'number',
            format: 'double',
            description: 'Total overdue'
        },
        byPaymentType: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    paymentType: {
                        allOf: [
                            {
                                $ref: '#/components/schemas/PaymentType'
                            }
                        ],
                        description: 'Payment type'
                    },
                    count: {
                        type: 'integer',
                        format: 'int32',
                        description: 'Count'
                    },
                    amount: {
                        type: 'number',
                        format: 'double',
                        description: 'Amount'
                    }
                },
                required: [
                    'paymentType',
                    'count',
                    'amount'
                ]
            },
            description: 'By payment type'
        },
        byStatus: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    status: {
                        allOf: [
                            {
                                $ref: '#/components/schemas/InvoiceStatus'
                            }
                        ],
                        description: 'Status'
                    },
                    count: {
                        type: 'integer',
                        format: 'int32',
                        description: 'Count'
                    },
                    amount: {
                        type: 'number',
                        format: 'double',
                        description: 'Amount'
                    }
                },
                required: [
                    'status',
                    'count',
                    'amount'
                ]
            },
            description: 'By status'
        }
    },
    description: 'Billing Summary\n\nSummary of billing for a patient or period'
} as const;

export const BillingSummaryResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/BillingSummary'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Billing summary response'
} as const;

export const BlockSlotRequestSchema = {
    type: 'object',
    properties: {
        reason: {
            type: 'string',
            description: 'Reason for blocking'
        }
    },
    description: 'Request body for blocking a slot'
} as const;

export const BloodTypeSchema = {
    type: 'string',
    enum: [
        'a',
        'b',
        'ab',
        'o'
    ],
    description: 'Blood type'
} as const;

export const BpjsFacilityTypeSchema = {
    type: 'string',
    enum: [
        'fktp',
        'fkrtl'
    ],
    description: 'BPJS facility type'
} as const;

export const BranchSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'branchCode',
        'branchName',
        'isActive',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique branch identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Parent organization ID'
        },
        branchCode: {
            type: 'string',
            description: 'Branch code'
        },
        branchName: {
            type: 'string',
            description: 'Branch name'
        },
        branchNameId: {
            type: 'string',
            description: 'Branch name in Indonesian'
        },
        address: {
            type: 'string',
            description: 'Address'
        },
        city: {
            type: 'string',
            description: 'City'
        },
        province: {
            type: 'string',
            description: 'Province'
        },
        postalCode: {
            type: 'string',
            description: 'Postal code'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether branch is active'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When last updated'
        }
    },
    description: 'Branch (sub-location) resource\n\nRepresents a branch/location within an organization'
} as const;

export const BranchListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Branch'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Branch list response with pagination'
} as const;

export const BranchResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Branch'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single branch response'
} as const;

export const CallNextQueueRequestSchema = {
    type: 'object',
    required: [
        'polyclinicId'
    ],
    properties: {
        polyclinicId: {
            type: 'string',
            minLength: 1,
            description: 'Polyclinic ID'
        },
        counterNumber: {
            type: 'string',
            description: 'Counter number'
        }
    },
    description: 'Request body for calling next queue'
} as const;

export const CallQueueRequestSchema = {
    type: 'object',
    properties: {
        counterNumber: {
            type: 'string',
            description: 'Counter number'
        }
    },
    description: 'Request body for calling queue'
} as const;

export const CancelAppointmentRequestSchema = {
    type: 'object',
    required: [
        'cancellationReason'
    ],
    properties: {
        cancellationReason: {
            type: 'string',
            minLength: 1,
            description: 'Cancellation reason'
        }
    },
    description: 'Request body for cancelling'
} as const;

export const CheckInAppointmentRequestSchema = {
    type: 'object',
    properties: {
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for checking in'
} as const;

export const CheckInRequestSchema = {
    type: 'object',
    properties: {
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for checking in (alias)'
} as const;

export const ChronicConditionSchema = {
    type: 'object',
    required: [
        'id',
        'patientId',
        'icd10Code',
        'conditionName',
        'isActive',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        icd10Code: {
            type: 'string',
            description: 'ICD-10 code'
        },
        conditionName: {
            type: 'string',
            description: 'Condition name'
        },
        conditionNameId: {
            type: 'string',
            description: 'Condition name in Indonesian'
        },
        diagnosisDate: {
            type: 'string',
            format: 'date',
            description: 'Diagnosis date'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether condition is currently active'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Chronic condition record'
} as const;

export const ChronicConditionListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/ChronicCondition'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Chronic condition list response'
} as const;

export const ChronicConditionResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/ChronicCondition'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single chronic condition response'
} as const;

export const ClinicalAuditSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'auditNumber',
        'auditType',
        'auditTitle',
        'auditPeriodStart',
        'auditPeriodEnd',
        'status',
        'leadAuditor',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        auditNumber: {
            type: 'string',
            description: 'Audit number'
        },
        auditType: {
            allOf: [
                {
                    $ref: '#/components/schemas/ClinicalAuditType'
                }
            ],
            description: 'Audit type'
        },
        auditTitle: {
            type: 'string',
            description: 'Audit title'
        },
        auditTitleId: {
            type: 'string',
            description: 'Audit title in Indonesian'
        },
        department: {
            type: 'string',
            description: 'Department'
        },
        auditPeriodStart: {
            type: 'string',
            format: 'date',
            description: 'Audit period start'
        },
        auditPeriodEnd: {
            type: 'string',
            format: 'date',
            description: 'Audit period end'
        },
        sampleSize: {
            type: 'integer',
            format: 'int32',
            description: 'Sample size'
        },
        population: {
            type: 'integer',
            format: 'int32',
            description: 'Population'
        },
        auditCriteria: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    criterion: {
                        type: 'string'
                    },
                    standard: {
                        type: 'string'
                    },
                    weight: {
                        type: 'number',
                        format: 'double'
                    }
                },
                required: [
                    'criterion',
                    'standard'
                ]
            },
            description: 'Audit criteria'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/ClinicalAuditStatus'
                }
            ],
            description: 'Status'
        },
        plannedStartDate: {
            type: 'string',
            format: 'date',
            description: 'Planned start date'
        },
        actualStartDate: {
            type: 'string',
            format: 'date',
            description: 'Actual start date'
        },
        completedDate: {
            type: 'string',
            format: 'date',
            description: 'Completed date'
        },
        leadAuditor: {
            type: 'string',
            description: 'Lead auditor user ID'
        },
        auditTeam: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    userId: {
                        type: 'string'
                    },
                    name: {
                        type: 'string'
                    },
                    role: {
                        type: 'string'
                    }
                },
                required: [
                    'name',
                    'role'
                ]
            },
            description: 'Audit team'
        },
        findings: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    criterion: {
                        type: 'string'
                    },
                    finding: {
                        type: 'string'
                    },
                    complianceRate: {
                        type: 'number',
                        format: 'double'
                    },
                    severity: {
                        type: 'string'
                    },
                    recommendation: {
                        type: 'string'
                    }
                },
                required: [
                    'criterion',
                    'finding'
                ]
            },
            description: 'Findings'
        },
        overallComplianceRate: {
            type: 'number',
            format: 'double',
            description: 'Overall compliance rate'
        },
        summary: {
            type: 'string',
            description: 'Summary'
        },
        conclusions: {
            type: 'string',
            description: 'Conclusions'
        },
        recommendations: {
            type: 'string',
            description: 'Recommendations'
        },
        followUpActions: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    action: {
                        type: 'string'
                    },
                    responsible: {
                        type: 'string'
                    },
                    dueDate: {
                        type: 'string'
                    },
                    status: {
                        type: 'string'
                    },
                    completedDate: {
                        type: 'string'
                    }
                },
                required: [
                    'action',
                    'responsible',
                    'dueDate',
                    'status'
                ]
            },
            description: 'Follow-up actions'
        },
        followUpDate: {
            type: 'string',
            format: 'date',
            description: 'Follow-up date'
        },
        followUpCompletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Follow-up completed at'
        },
        approvedBy: {
            type: 'string',
            description: 'Approved by user ID'
        },
        approvedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Approved at'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Clinical Audit\n\nClinical audit tracking'
} as const;

export const ClinicalAuditListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/ClinicalAudit'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Clinical audit list response'
} as const;

export const ClinicalAuditResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/ClinicalAudit'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single clinical audit response'
} as const;

export const ClinicalAuditStatusSchema = {
    type: 'string',
    enum: [
        'planned',
        'inProgress',
        'dataCollection',
        'analysis',
        'reportDraft',
        'completed',
        'followUp'
    ],
    description: 'Clinical audit status'
} as const;

export const ClinicalAuditTypeSchema = {
    type: 'string',
    enum: [
        'processAudit',
        'outcomeAudit',
        'structureAudit',
        'topicAudit',
        'medicalRecordAudit'
    ],
    description: 'Clinical audit type'
} as const;

export const CollectSpecimenRequestSchema = {
    type: 'object',
    required: [
        'orderItemId',
        'specimenType'
    ],
    properties: {
        orderItemId: {
            type: 'string',
            minLength: 1,
            description: 'Order item ID'
        },
        specimenType: {
            type: 'string',
            minLength: 1,
            description: 'Specimen type'
        },
        condition: {
            allOf: [
                {
                    $ref: '#/components/schemas/SpecimenCondition'
                }
            ],
            description: 'Specimen condition'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for collecting specimen'
} as const;

export const ConfirmUploadRequestSchema = {
    type: 'object',
    properties: {
        etag: {
            type: 'string',
            description: 'Optional: ETag from S3 response for verification'
        }
    },
    description: 'Request to confirm an upload completed successfully'
} as const;

export const CreateAccreditationStandardRequestSchema = {
    type: 'object',
    required: [
        'accreditationBody'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        accreditationBody: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationBody'
                }
            ],
            description: 'Accreditation body'
        },
        targetLevel: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationLevel'
                }
            ],
            description: 'Target level'
        },
        nextSurveyDate: {
            type: 'string',
            format: 'date',
            description: 'Next survey date'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating accreditation standard'
} as const;

export const CreateAppointmentRequestSchema = {
    type: 'object',
    required: [
        'patientId',
        'practitionerId',
        'polyclinicId',
        'appointmentType',
        'appointmentDate',
        'startTime'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID'
        },
        polyclinicId: {
            type: 'string',
            description: 'Polyclinic ID'
        },
        appointmentSlotId: {
            type: 'string',
            description: 'Appointment slot ID'
        },
        appointmentType: {
            allOf: [
                {
                    $ref: '#/components/schemas/AppointmentType'
                }
            ],
            description: 'Appointment type'
        },
        appointmentDate: {
            type: 'string',
            format: 'date',
            description: 'Appointment date'
        },
        startTime: {
            type: 'string',
            pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]$',
            description: 'Start time (HH:mm)'
        },
        endTime: {
            type: 'string',
            pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]$',
            description: 'End time (HH:mm)'
        },
        reasonForVisit: {
            type: 'string',
            description: 'Reason for visit'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        isWalkIn: {
            type: 'boolean',
            description: 'Is walk-in'
        },
        previousAppointmentId: {
            type: 'string',
            description: 'Previous appointment ID (for follow-ups)'
        }
    },
    description: 'Request body for creating an appointment'
} as const;

export const CreateBranchRequestSchema = {
    type: 'object',
    required: [
        'branchCode',
        'branchName'
    ],
    properties: {
        branchCode: {
            type: 'string',
            minLength: 1,
            maxLength: 20,
            description: 'Branch code'
        },
        branchName: {
            type: 'string',
            minLength: 1,
            maxLength: 255,
            description: 'Branch name'
        },
        branchNameId: {
            type: 'string',
            description: 'Indonesian name'
        },
        address: {
            type: 'string',
            description: 'Address'
        },
        city: {
            type: 'string',
            description: 'City'
        },
        province: {
            type: 'string',
            description: 'Province'
        },
        postalCode: {
            type: 'string',
            description: 'Postal code'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        }
    },
    description: 'Request body for creating a branch'
} as const;

export const CreateChronicConditionRequestSchema = {
    type: 'object',
    required: [
        'icd10Code',
        'conditionName'
    ],
    properties: {
        icd10Code: {
            type: 'string',
            minLength: 1,
            description: 'ICD-10 code'
        },
        conditionName: {
            type: 'string',
            minLength: 1,
            description: 'Condition name'
        },
        conditionNameId: {
            type: 'string',
            description: 'Condition name in Indonesian'
        },
        diagnosisDate: {
            type: 'string',
            format: 'date',
            description: 'Diagnosis date'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating a chronic condition'
} as const;

export const CreateDiagnosisRequestSchema = {
    type: 'object',
    required: [
        'icd10Code',
        'diagnosisName',
        'diagnosisType'
    ],
    properties: {
        icd10Code: {
            type: 'string',
            minLength: 3,
            description: 'ICD-10 code'
        },
        icd10Description: {
            type: 'string',
            description: 'ICD-10 description'
        },
        diagnosisName: {
            type: 'string',
            description: 'Diagnosis name'
        },
        diagnosisNameId: {
            type: 'string',
            description: 'Diagnosis name in Indonesian'
        },
        diagnosisType: {
            allOf: [
                {
                    $ref: '#/components/schemas/DiagnosisType'
                }
            ],
            description: 'Diagnosis type'
        },
        verificationStatus: {
            allOf: [
                {
                    $ref: '#/components/schemas/DiagnosisVerification'
                }
            ],
            description: 'Verification status'
        },
        isChronic: {
            type: 'boolean',
            description: 'Is chronic'
        },
        onsetDate: {
            type: 'string',
            format: 'date',
            description: 'Onset date'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating a diagnosis'
} as const;

export const CreateDiagnosticReportRequestSchema = {
    type: 'object',
    required: [
        'patientId'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            minLength: 1,
            description: 'Patient ID'
        },
        orderId: {
            type: 'string',
            description: 'Order ID'
        },
        conclusion: {
            type: 'string',
            description: 'Conclusion'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating diagnostic report'
} as const;

export const CreateDocumentControlRequestSchema = {
    type: 'object',
    required: [
        'documentNumber',
        'documentType',
        'documentTitle'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        documentNumber: {
            type: 'string',
            minLength: 1,
            description: 'Document number'
        },
        documentType: {
            allOf: [
                {
                    $ref: '#/components/schemas/DocumentControlType'
                }
            ],
            description: 'Document type'
        },
        documentTitle: {
            type: 'string',
            minLength: 1,
            description: 'Document title'
        },
        documentTitleId: {
            type: 'string',
            description: 'Document title in Indonesian'
        },
        department: {
            type: 'string',
            description: 'Department'
        },
        category: {
            type: 'string',
            description: 'Category'
        },
        purpose: {
            type: 'string',
            description: 'Purpose'
        },
        scope: {
            type: 'string',
            description: 'Scope'
        },
        content: {
            type: 'string',
            description: 'Content'
        }
    },
    description: 'Request body for creating document control'
} as const;

export const CreateEncounterRequestSchema = {
    type: 'object',
    required: [
        'patientId',
        'practitionerId',
        'polyclinicId',
        'encounterType',
        'encounterClass'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID'
        },
        polyclinicId: {
            type: 'string',
            description: 'Polyclinic ID'
        },
        appointmentId: {
            type: 'string',
            description: 'Appointment ID'
        },
        encounterType: {
            allOf: [
                {
                    $ref: '#/components/schemas/EncounterType'
                }
            ],
            description: 'Encounter type'
        },
        encounterClass: {
            allOf: [
                {
                    $ref: '#/components/schemas/EncounterClass'
                }
            ],
            description: 'Encounter class'
        },
        chiefComplaint: {
            type: 'string',
            description: 'Chief complaint'
        },
        reasonForVisit: {
            type: 'string',
            description: 'Reason for visit'
        },
        bpjsSepNumber: {
            type: 'string',
            description: 'BPJS SEP number'
        }
    },
    description: 'Request body for creating an encounter'
} as const;

export const CreateExampleCommentRequestSchema = {
    type: 'object',
    required: [
        'content',
        'authorId'
    ],
    properties: {
        content: {
            type: 'string',
            description: 'Comment content',
            example: 'Great post! Very informative.'
        },
        authorId: {
            type: 'string',
            description: 'Author user ID',
            example: 'usr_commenter789'
        }
    },
    description: 'Request body for creating a new comment'
} as const;

export const CreateExamplePostRequestSchema = {
    type: 'object',
    required: [
        'title',
        'content',
        'authorId'
    ],
    properties: {
        title: {
            type: 'string',
            description: 'Post title',
            example: 'Introduction to TypeSpec'
        },
        content: {
            type: 'string',
            description: 'Post content (supports markdown)',
            example: 'This is the full content of the post...'
        },
        authorId: {
            type: 'string',
            description: 'Author user ID',
            example: 'usr_author123'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/ExamplePostStatus'
                }
            ],
            description: 'Post status (default: draft)'
        }
    },
    description: 'Request body for creating a new post'
} as const;

export const CreateInvoiceItemRequestSchema = {
    type: 'object',
    required: [
        'itemType',
        'itemCode',
        'itemName',
        'quantity',
        'unit',
        'unitPrice'
    ],
    properties: {
        itemType: {
            allOf: [
                {
                    $ref: '#/components/schemas/BillableItemType'
                }
            ],
            description: 'Item type'
        },
        itemCode: {
            type: 'string',
            minLength: 1,
            description: 'Item code'
        },
        itemName: {
            type: 'string',
            minLength: 1,
            description: 'Item name'
        },
        quantity: {
            type: 'number',
            format: 'double',
            minimum: 0,
            description: 'Quantity'
        },
        unit: {
            type: 'string',
            description: 'Unit'
        },
        unitPrice: {
            type: 'number',
            format: 'double',
            minimum: 0,
            description: 'Unit price'
        },
        discountAmount: {
            type: 'number',
            format: 'double',
            description: 'Discount amount'
        },
        referenceId: {
            type: 'string',
            description: 'Reference ID'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating invoice item'
} as const;

export const CreateInvoiceRequestSchema = {
    type: 'object',
    required: [
        'patientId',
        'paymentType',
        'payerType',
        'items'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            minLength: 1,
            description: 'Patient ID'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        paymentType: {
            allOf: [
                {
                    $ref: '#/components/schemas/PaymentType'
                }
            ],
            description: 'Payment type'
        },
        payerType: {
            allOf: [
                {
                    $ref: '#/components/schemas/PayerType'
                }
            ],
            description: 'Payer type'
        },
        bpjsNumber: {
            type: 'string',
            description: 'BPJS number (if JKN)'
        },
        insuranceCompany: {
            type: 'string',
            description: 'Insurance company'
        },
        insurancePolicyNumber: {
            type: 'string',
            description: 'Insurance policy number'
        },
        dueDate: {
            type: 'string',
            format: 'date-time',
            description: 'Due date'
        },
        discountPercent: {
            type: 'number',
            format: 'double',
            description: 'Discount percent'
        },
        discountReason: {
            type: 'string',
            description: 'Discount reason'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        items: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/CreateInvoiceItemRequest'
            },
            description: 'Invoice items'
        }
    },
    description: 'Request body for creating invoice'
} as const;

export const CreateJknConfigRequestSchema = {
    type: 'object',
    required: [
        'apiType',
        'environment',
        'consId',
        'secretKey',
        'userKey'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID (optional)'
        },
        apiType: {
            type: 'string',
            enum: [
                'vclaim',
                'antrean',
                'antreanFktp',
                'apotek',
                'aplicares',
                'icare',
                'pcare',
                'rekamMedis'
            ],
            description: 'API type'
        },
        environment: {
            type: 'string',
            enum: [
                'development',
                'production'
            ],
            description: 'Environment'
        },
        consId: {
            type: 'string',
            minLength: 1,
            description: 'Consumer ID'
        },
        secretKey: {
            type: 'string',
            minLength: 1,
            description: 'Secret key'
        },
        userKey: {
            type: 'string',
            minLength: 1,
            description: 'User key'
        },
        ppkPelayanan: {
            type: 'string',
            description: 'PPK Pelayanan'
        },
        ppkBpjs: {
            type: 'string',
            description: 'PPK BPJS'
        },
        facilityType: {
            allOf: [
                {
                    $ref: '#/components/schemas/BpjsFacilityType'
                }
            ],
            description: 'Facility type'
        },
        baseUrl: {
            type: 'string',
            description: 'Base URL (optional - defaults based on environment)'
        }
    },
    description: 'Request body for creating JKN config'
} as const;

export const CreateLabOrderRequestSchema = {
    type: 'object',
    required: [
        'patientId',
        'testIds'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            minLength: 1,
            description: 'Patient ID'
        },
        queueId: {
            type: 'string',
            description: 'Queue ID'
        },
        priority: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabQueuePriority'
                }
            ],
            description: 'Priority'
        },
        clinicalInfo: {
            type: 'string',
            description: 'Clinical information'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        testIds: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Test IDs to order'
        }
    },
    description: 'Request body for creating a lab order'
} as const;

export const CreateLabTestRequestSchema = {
    type: 'object',
    required: [
        'testCode',
        'testName',
        'testCategory',
        'testType',
        'resultType'
    ],
    properties: {
        testCode: {
            type: 'string',
            minLength: 1,
            maxLength: 20,
            description: 'Test code'
        },
        testName: {
            type: 'string',
            minLength: 1,
            description: 'Test name'
        },
        testNameId: {
            type: 'string',
            description: 'Test name in Indonesian'
        },
        testCategory: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabTestCategory'
                }
            ],
            description: 'Test category'
        },
        testType: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabTestType'
                }
            ],
            description: 'Test type'
        },
        description: {
            type: 'string',
            description: 'Description'
        },
        specimenType: {
            type: 'string',
            description: 'Specimen type'
        },
        resultType: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabResultType'
                }
            ],
            description: 'Result type'
        },
        unit: {
            type: 'string',
            description: 'Unit'
        },
        normalRange: {
            type: 'string',
            description: 'Normal range'
        }
    },
    description: 'Request body for creating a lab test'
} as const;

export const CreateOrganizationRequestSchema = {
    type: 'object',
    required: [
        'orgCode',
        'orgName',
        'orgType'
    ],
    properties: {
        orgCode: {
            type: 'string',
            minLength: 1,
            maxLength: 20,
            description: 'Organization code (unique)'
        },
        orgName: {
            type: 'string',
            minLength: 1,
            maxLength: 255,
            description: 'Organization name'
        },
        orgNameId: {
            type: 'string',
            description: 'Indonesian name'
        },
        orgType: {
            allOf: [
                {
                    $ref: '#/components/schemas/OrgType'
                }
            ],
            description: 'Organization type'
        },
        licenseNumber: {
            type: 'string',
            description: 'License number'
        },
        npwp: {
            type: 'string',
            description: 'NPWP'
        },
        bpjsPpkCode: {
            type: 'string',
            description: 'BPJS PPK code'
        },
        address: {
            type: 'string',
            description: 'Address'
        },
        city: {
            type: 'string',
            description: 'City'
        },
        province: {
            type: 'string',
            description: 'Province'
        },
        postalCode: {
            type: 'string',
            description: 'Postal code'
        },
        country: {
            type: 'string',
            description: 'Country'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        },
        website: {
            type: 'string',
            format: 'uri',
            description: 'Website'
        }
    },
    description: 'Request body for creating an organization'
} as const;

export const CreatePatientAllergyRequestSchema = {
    type: 'object',
    required: [
        'allergyType',
        'allergen',
        'severity'
    ],
    properties: {
        allergyType: {
            allOf: [
                {
                    $ref: '#/components/schemas/AllergyType'
                }
            ],
            description: 'Allergy type'
        },
        allergen: {
            type: 'string',
            minLength: 1,
            description: 'Allergen name'
        },
        allergenId: {
            type: 'string',
            description: 'Allergen in Indonesian'
        },
        severity: {
            allOf: [
                {
                    $ref: '#/components/schemas/AllergySeverity'
                }
            ],
            description: 'Severity'
        },
        reaction: {
            type: 'string',
            description: 'Reaction description'
        },
        onsetDate: {
            type: 'string',
            format: 'date',
            description: 'Onset date'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating a patient allergy'
} as const;

export const CreatePatientRequestSchema = {
    type: 'object',
    required: [
        'firstName',
        'lastName',
        'gender',
        'dateOfBirth'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        nik: {
            type: 'string',
            minLength: 16,
            maxLength: 16,
            description: 'NIK (16 digits)'
        },
        bpjsNumber: {
            type: 'string',
            description: 'BPJS number'
        },
        firstName: {
            type: 'string',
            minLength: 1,
            maxLength: 100,
            description: 'First name'
        },
        lastName: {
            type: 'string',
            minLength: 1,
            maxLength: 100,
            description: 'Last name'
        },
        firstNameId: {
            type: 'string',
            description: 'First name in Indonesian'
        },
        lastNameId: {
            type: 'string',
            description: 'Last name in Indonesian'
        },
        gender: {
            allOf: [
                {
                    $ref: '#/components/schemas/Gender'
                }
            ],
            description: 'Gender'
        },
        dateOfBirth: {
            type: 'string',
            format: 'date',
            description: 'Date of birth'
        },
        placeOfBirth: {
            type: 'string',
            description: 'Place of birth'
        },
        maritalStatus: {
            allOf: [
                {
                    $ref: '#/components/schemas/MaritalStatus'
                }
            ],
            description: 'Marital status'
        },
        bloodType: {
            allOf: [
                {
                    $ref: '#/components/schemas/BloodType'
                }
            ],
            description: 'Blood type'
        },
        rhesus: {
            allOf: [
                {
                    $ref: '#/components/schemas/Rhesus'
                }
            ],
            description: 'Rhesus'
        },
        religion: {
            type: 'string',
            description: 'Religion'
        },
        nationality: {
            type: 'string',
            description: 'Nationality'
        },
        country: {
            type: 'string',
            description: 'Country'
        },
        education: {
            type: 'string',
            description: 'Education level'
        },
        address: {
            type: 'string',
            description: 'Address'
        },
        city: {
            type: 'string',
            description: 'City'
        },
        province: {
            type: 'string',
            description: 'Province'
        },
        postalCode: {
            type: 'string',
            description: 'Postal code'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        mobile: {
            type: 'string',
            description: 'Mobile'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        },
        occupation: {
            type: 'string',
            description: 'Occupation'
        },
        emergencyContactName: {
            type: 'string',
            description: 'Emergency contact name'
        },
        emergencyContactPhone: {
            type: 'string',
            description: 'Emergency contact phone'
        },
        emergencyContactRelationship: {
            type: 'string',
            description: 'Emergency contact relationship'
        }
    },
    description: 'Request body for creating a patient'
} as const;

export const CreatePaymentRequestSchema = {
    type: 'object',
    required: [
        'invoiceId',
        'paymentMethod',
        'amount'
    ],
    properties: {
        invoiceId: {
            type: 'string',
            minLength: 1,
            description: 'Invoice ID'
        },
        paymentMethod: {
            allOf: [
                {
                    $ref: '#/components/schemas/PaymentMethod'
                }
            ],
            description: 'Payment method'
        },
        amount: {
            type: 'number',
            format: 'double',
            minimum: 0,
            description: 'Amount'
        },
        referenceNumber: {
            type: 'string',
            description: 'Reference number'
        },
        cardType: {
            type: 'string',
            description: 'Card type'
        },
        cardLast4: {
            type: 'string',
            description: 'Card last 4 digits'
        },
        bankName: {
            type: 'string',
            description: 'Bank name'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating payment'
} as const;

export const CreatePolyclinicRequestSchema = {
    type: 'object',
    required: [
        'polyclinicCode',
        'polyclinicName',
        'polyclinicType'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        polyclinicCode: {
            type: 'string',
            minLength: 1,
            maxLength: 20,
            description: 'Polyclinic code'
        },
        polyclinicName: {
            type: 'string',
            minLength: 1,
            maxLength: 255,
            description: 'Polyclinic name'
        },
        polyclinicNameId: {
            type: 'string',
            description: 'Indonesian name'
        },
        polyclinicType: {
            allOf: [
                {
                    $ref: '#/components/schemas/PolyclinicType'
                }
            ],
            description: 'Polyclinic type'
        },
        description: {
            type: 'string',
            description: 'Description'
        },
        location: {
            type: 'string',
            description: 'Location'
        },
        floor: {
            type: 'string',
            description: 'Floor'
        },
        queuePrefix: {
            type: 'string',
            description: 'Queue prefix'
        },
        bpjsPoliCode: {
            type: 'string',
            description: 'BPJS poli code'
        },
        operatingHours: {
            type: 'object',
            additionalProperties: {},
            description: 'Operating hours'
        }
    },
    description: 'Request body for creating a polyclinic'
} as const;

export const CreatePractitionerCredentialRequestSchema = {
    type: 'object',
    required: [
        'practitionerId',
        'credentialType',
        'credentialNumber',
        'credentialName',
        'issuingAuthority',
        'issuedDate'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        practitionerId: {
            type: 'string',
            minLength: 1,
            description: 'Practitioner ID'
        },
        credentialType: {
            allOf: [
                {
                    $ref: '#/components/schemas/CredentialType'
                }
            ],
            description: 'Credential type'
        },
        credentialNumber: {
            type: 'string',
            minLength: 1,
            description: 'Credential number'
        },
        credentialName: {
            type: 'string',
            minLength: 1,
            description: 'Credential name'
        },
        issuingAuthority: {
            type: 'string',
            minLength: 1,
            description: 'Issuing authority'
        },
        issuedDate: {
            type: 'string',
            format: 'date',
            description: 'Issued date'
        },
        expiryDate: {
            type: 'string',
            format: 'date',
            description: 'Expiry date'
        },
        documentUrl: {
            type: 'string',
            description: 'Document URL'
        }
    },
    description: 'Request body for creating practitioner credential'
} as const;

export const CreatePractitionerRequestSchema = {
    type: 'object',
    required: [
        'firstName',
        'lastName',
        'practitionerType'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        firstName: {
            type: 'string',
            minLength: 1,
            maxLength: 100,
            description: 'First name'
        },
        lastName: {
            type: 'string',
            minLength: 1,
            maxLength: 100,
            description: 'Last name'
        },
        firstNameId: {
            type: 'string',
            description: 'First name in Indonesian'
        },
        lastNameId: {
            type: 'string',
            description: 'Last name in Indonesian'
        },
        gender: {
            allOf: [
                {
                    $ref: '#/components/schemas/Gender'
                }
            ],
            description: 'Gender'
        },
        dateOfBirth: {
            type: 'string',
            format: 'date',
            description: 'Date of birth'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        mobile: {
            type: 'string',
            description: 'Mobile'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        },
        practitionerType: {
            allOf: [
                {
                    $ref: '#/components/schemas/PractitionerType'
                }
            ],
            description: 'Practitioner type'
        },
        specialty: {
            allOf: [
                {
                    $ref: '#/components/schemas/Specialty'
                }
            ],
            description: 'Specialty'
        },
        licenseNumber: {
            type: 'string',
            description: 'License number'
        },
        licenseExpiry: {
            type: 'string',
            format: 'date',
            description: 'License expiry'
        },
        nip: {
            type: 'string',
            description: 'NIP'
        },
        str: {
            type: 'string',
            description: 'STR'
        },
        sip: {
            type: 'string',
            description: 'SIP'
        },
        bio: {
            type: 'string',
            description: 'Bio'
        }
    },
    description: 'Request body for creating a practitioner'
} as const;

export const CreatePractitionerScheduleRequestSchema = {
    type: 'object',
    required: [
        'polyclinicId',
        'dayOfWeek',
        'startTime',
        'endTime',
        'effectiveFrom'
    ],
    properties: {
        polyclinicId: {
            type: 'string',
            description: 'Polyclinic ID'
        },
        dayOfWeek: {
            allOf: [
                {
                    $ref: '#/components/schemas/DayOfWeek'
                }
            ],
            description: 'Day of week'
        },
        startTime: {
            type: 'string',
            pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]$',
            description: 'Start time (HH:mm)'
        },
        endTime: {
            type: 'string',
            pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]$',
            description: 'End time (HH:mm)'
        },
        effectiveFrom: {
            type: 'string',
            format: 'date',
            description: 'Effective from'
        },
        effectiveTo: {
            type: 'string',
            format: 'date',
            description: 'Effective to'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating a schedule'
} as const;

export const CreatePrescriptionItemRequestSchema = {
    type: 'object',
    required: [
        'genericName',
        'dosageForm',
        'frequency',
        'quantity'
    ],
    properties: {
        medicationId: {
            type: 'string',
            description: 'Medication ID'
        },
        genericName: {
            type: 'string',
            minLength: 1,
            description: 'Generic name'
        },
        genericNameId: {
            type: 'string',
            description: 'Generic name in Indonesian'
        },
        brandName: {
            type: 'string',
            description: 'Brand name'
        },
        dosageForm: {
            allOf: [
                {
                    $ref: '#/components/schemas/DosageForm'
                }
            ],
            description: 'Dosage form'
        },
        strength: {
            type: 'string',
            description: 'Strength'
        },
        unit: {
            type: 'string',
            description: 'Unit'
        },
        frequency: {
            allOf: [
                {
                    $ref: '#/components/schemas/Frequency'
                }
            ],
            description: 'Frequency'
        },
        frequencyDescription: {
            type: 'string',
            description: 'Frequency description'
        },
        route: {
            type: 'string',
            description: 'Route'
        },
        durationDays: {
            type: 'integer',
            format: 'int32',
            description: 'Duration in days'
        },
        quantity: {
            type: 'integer',
            format: 'int32',
            minimum: 1,
            description: 'Quantity'
        },
        instructions: {
            type: 'string',
            description: 'Instructions'
        },
        dispenseAsWritten: {
            type: 'boolean',
            description: 'Dispense as written'
        }
    },
    description: 'Request body for creating a prescription item'
} as const;

export const CreatePrescriptionRequestSchema = {
    type: 'object',
    required: [
        'items'
    ],
    properties: {
        notes: {
            type: 'string',
            description: 'Notes'
        },
        items: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/CreatePrescriptionItemRequest'
            },
            description: 'Items'
        }
    },
    description: 'Request body for creating a prescription'
} as const;

export const CreateProcedureRequestSchema = {
    type: 'object',
    required: [
        'procedureName',
        'category'
    ],
    properties: {
        icd9cmCode: {
            type: 'string',
            description: 'ICD-9-CM code'
        },
        icd9cmDescription: {
            type: 'string',
            description: 'ICD-9-CM description'
        },
        procedureName: {
            type: 'string',
            minLength: 1,
            description: 'Procedure name'
        },
        procedureNameId: {
            type: 'string',
            description: 'Procedure name in Indonesian'
        },
        category: {
            type: 'string',
            enum: [
                'surgical',
                'diagnostic',
                'therapeutic',
                'preventive',
                'palliative',
                'other'
            ],
            description: 'Category'
        },
        performedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When performed'
        },
        location: {
            type: 'string',
            description: 'Location'
        },
        bodySite: {
            type: 'string',
            description: 'Body site'
        },
        outcome: {
            type: 'string',
            description: 'Outcome'
        },
        complication: {
            type: 'string',
            description: 'Complication'
        },
        followUpRequired: {
            type: 'boolean',
            description: 'Follow-up required'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating a procedure'
} as const;

export const CreateQualityIndicatorRequestSchema = {
    type: 'object',
    required: [
        'indicatorCode',
        'indicatorName',
        'category',
        'numeratorDefinition',
        'denominatorDefinition'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        indicatorCode: {
            type: 'string',
            minLength: 1,
            description: 'Indicator code'
        },
        indicatorName: {
            type: 'string',
            minLength: 1,
            description: 'Indicator name'
        },
        indicatorNameId: {
            type: 'string',
            description: 'Indicator name in Indonesian'
        },
        category: {
            allOf: [
                {
                    $ref: '#/components/schemas/QualityIndicatorCategory'
                }
            ],
            description: 'Category'
        },
        description: {
            type: 'string',
            description: 'Description'
        },
        numeratorDefinition: {
            type: 'string',
            minLength: 1,
            description: 'Numerator definition'
        },
        denominatorDefinition: {
            type: 'string',
            minLength: 1,
            description: 'Denominator definition'
        },
        formula: {
            type: 'string',
            description: 'Formula'
        },
        unit: {
            type: 'string',
            description: 'Unit'
        },
        targetValue: {
            type: 'number',
            format: 'double',
            description: 'Target value'
        },
        thresholdGreen: {
            type: 'number',
            format: 'double',
            description: 'Thresholds'
        },
        thresholdYellow: {
            type: 'number',
            format: 'double'
        },
        thresholdRed: {
            type: 'number',
            format: 'double'
        },
        measurementFrequency: {
            type: 'string',
            description: 'Measurement frequency'
        },
        responsibleDepartment: {
            type: 'string',
            description: 'Responsible department'
        },
        responsiblePerson: {
            type: 'string',
            description: 'Responsible person ID'
        }
    },
    description: 'Request body for creating quality indicator'
} as const;

export const CreateQueueRequestSchema = {
    type: 'object',
    required: [
        'patientId',
        'polyclinicId'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            minLength: 1,
            description: 'Patient ID'
        },
        polyclinicId: {
            type: 'string',
            minLength: 1,
            description: 'Polyclinic ID'
        },
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID (optional)'
        },
        appointmentId: {
            type: 'string',
            description: 'Appointment ID (if from appointment)'
        },
        priority: {
            allOf: [
                {
                    $ref: '#/components/schemas/QueuePriority'
                }
            ],
            description: 'Priority'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating a queue entry'
} as const;

export const CreateReferralRequestSchema = {
    type: 'object',
    required: [
        'referralType',
        'reason'
    ],
    properties: {
        referralType: {
            type: 'string',
            enum: [
                'internal',
                'external'
            ],
            description: 'Referral type'
        },
        reason: {
            type: 'string',
            minLength: 1,
            description: 'Reason for referral'
        },
        referredToFacility: {
            type: 'string',
            description: 'Referred to facility'
        },
        referredToSpecialty: {
            allOf: [
                {
                    $ref: '#/components/schemas/Specialty'
                }
            ],
            description: 'Referred to specialty'
        },
        isUrgent: {
            type: 'boolean',
            description: 'Is urgent'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating a referral'
} as const;

export const CreateRefundRequestSchema = {
    type: 'object',
    required: [
        'paymentId',
        'amount',
        'reason'
    ],
    properties: {
        paymentId: {
            type: 'string',
            minLength: 1,
            description: 'Payment ID'
        },
        amount: {
            type: 'number',
            format: 'double',
            minimum: 0,
            description: 'Amount'
        },
        reason: {
            type: 'string',
            minLength: 1,
            description: 'Reason'
        },
        refundMethod: {
            allOf: [
                {
                    $ref: '#/components/schemas/PaymentMethod'
                }
            ],
            description: 'Refund method'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for creating refund'
} as const;

export const CreateRoleRequestSchema = {
    type: 'object',
    required: [
        'name',
        'permissions'
    ],
    properties: {
        name: {
            type: 'string',
            minLength: 1,
            maxLength: 100,
            description: 'Role name'
        },
        description: {
            type: 'string',
            maxLength: 500,
            description: 'Role description'
        },
        permissions: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/PermissionInput'
            },
            minItems: 1,
            description: 'Permissions to grant'
        }
    },
    description: 'Request to create a custom role'
} as const;

export const CreateSatusehatConfigRequestSchema = {
    type: 'object',
    required: [
        'environment',
        'clientId',
        'clientSecret'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID (optional)'
        },
        environment: {
            type: 'string',
            enum: [
                'sandbox',
                'production'
            ],
            description: 'Environment'
        },
        clientId: {
            type: 'string',
            minLength: 1,
            description: 'OAuth2 client ID'
        },
        clientSecret: {
            type: 'string',
            minLength: 1,
            description: 'OAuth2 client secret'
        },
        satusehatOrgId: {
            type: 'string',
            description: 'SatuSehat organization ID'
        },
        authUrl: {
            type: 'string',
            description: 'Auth URL (optional - defaults based on environment)'
        },
        apiUrl: {
            type: 'string',
            description: 'API URL (optional - defaults based on environment)'
        }
    },
    description: 'Request body for creating SatuSehat config'
} as const;

export const CreateWebhookRequestSchema = {
    type: 'object',
    required: [
        'url',
        'events'
    ],
    properties: {
        url: {
            type: 'string',
            format: 'uri',
            description: 'URL to receive webhook payloads (must be HTTPS)'
        },
        name: {
            type: 'string',
            maxLength: 100,
            description: 'Human-readable name'
        },
        description: {
            type: 'string',
            maxLength: 500,
            description: 'Description'
        },
        events: {
            type: 'array',
            items: {
                type: 'string'
            },
            minItems: 1,
            description: 'Event types to subscribe to'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether the webhook is active (default: true)'
        }
    },
    description: 'Request to create a webhook'
} as const;

export const CredentialStatusSchema = {
    type: 'string',
    enum: [
        'pending',
        'verified',
        'active',
        'expiringSoon',
        'expired',
        'revoked',
        'suspended'
    ],
    description: 'Credential status'
} as const;

export const CredentialTypeSchema = {
    type: 'string',
    enum: [
        'str',
        'sip',
        'sik',
        'sipb',
        'sipa',
        'serkom',
        'certificate',
        'bls',
        'acls',
        'atls'
    ],
    description: 'Credential type'
} as const;

export const CriticalNotificationMethodSchema = {
    type: 'string',
    enum: [
        'phone',
        'sms',
        'whatsapp',
        'email',
        'inPerson'
    ],
    description: 'Critical notification method'
} as const;

export const CriticalValueNotificationSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'labResultId',
        'notificationDate',
        'notifiedBy',
        'notificationMethod',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        labResultId: {
            type: 'string',
            description: 'Lab result ID'
        },
        notificationDate: {
            type: 'string',
            format: 'date-time',
            description: 'Notification date/time'
        },
        notifiedBy: {
            type: 'string',
            description: 'Notified by user ID'
        },
        notifiedTo: {
            type: 'string',
            description: 'Notified to user ID'
        },
        notificationMethod: {
            allOf: [
                {
                    $ref: '#/components/schemas/CriticalNotificationMethod'
                }
            ],
            description: 'Notification method'
        },
        acknowledgedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When acknowledged'
        },
        acknowledgedBy: {
            type: 'string',
            description: 'Acknowledged by user ID'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Critical Value Notification\n\nNotification for critical lab values'
} as const;

export const CursorPaginationSchema = {
    type: 'object',
    required: [
        'limit',
        'hasNext',
        'nextCursor',
        'previousCursor'
    ],
    properties: {
        limit: {
            type: 'integer',
            format: 'int32',
            description: 'Maximum items returned per page'
        },
        hasNext: {
            type: 'boolean',
            description: 'Whether there is a next page'
        },
        nextCursor: {
            type: 'string',
            nullable: true,
            description: 'Cursor for fetching the next page (null if no more pages)'
        },
        previousCursor: {
            type: 'string',
            nullable: true,
            description: 'Cursor for fetching the previous page (null if on first page)'
        }
    },
    description: 'Cursor-based pagination for large datasets or real-time data'
} as const;

export const DayOfWeekSchema = {
    type: 'string',
    enum: [
        'monday',
        'tuesday',
        'wednesday',
        'thursday',
        'friday',
        'saturday',
        'sunday'
    ],
    description: 'Day of week'
} as const;

export const DiagnosisSchema = {
    type: 'object',
    required: [
        'id',
        'encounterId',
        'patientId',
        'icd10Code',
        'diagnosisName',
        'diagnosisType',
        'verificationStatus',
        'isChronic',
        'isSatusehatSynced',
        'diagnosedAt',
        'diagnosedBy',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        icd10Code: {
            type: 'string',
            description: 'ICD-10 code',
            example: 'J06.9'
        },
        icd10Description: {
            type: 'string',
            description: 'ICD-10 description'
        },
        diagnosisName: {
            type: 'string',
            description: 'Diagnosis name'
        },
        diagnosisNameId: {
            type: 'string',
            description: 'Diagnosis name in Indonesian'
        },
        diagnosisType: {
            allOf: [
                {
                    $ref: '#/components/schemas/DiagnosisType'
                }
            ],
            description: 'Diagnosis type'
        },
        verificationStatus: {
            allOf: [
                {
                    $ref: '#/components/schemas/DiagnosisVerification'
                }
            ],
            description: 'Verification status'
        },
        isChronic: {
            type: 'boolean',
            description: 'Whether this is a chronic condition'
        },
        onsetDate: {
            type: 'string',
            format: 'date',
            description: 'Onset date'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        satusehatConditionId: {
            type: 'string',
            description: 'SatuSehat condition ID'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'SatuSehat sync status'
        },
        diagnosedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When diagnosed'
        },
        diagnosedBy: {
            type: 'string',
            description: 'Diagnosed by user ID'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Diagnosis record'
} as const;

export const DiagnosisListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Diagnosis'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Diagnosis list response'
} as const;

export const DiagnosisResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Diagnosis'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Diagnosis response'
} as const;

export const DiagnosisTypeSchema = {
    type: 'string',
    enum: [
        'primary',
        'secondary',
        'admission',
        'discharge'
    ],
    description: 'Diagnosis type'
} as const;

export const DiagnosisVerificationSchema = {
    type: 'string',
    enum: [
        'confirmed',
        'provisional',
        'differential',
        'refuted'
    ],
    description: 'Diagnosis verification status'
} as const;

export const DiagnosticReportSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'patientId',
        'reportNumber',
        'reportDate',
        'status',
        'generatedBy',
        'isSatusehatSynced',
        'isJknSynced',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        orderId: {
            type: 'string',
            description: 'Order ID'
        },
        reportNumber: {
            type: 'string',
            description: 'Report number'
        },
        reportDate: {
            type: 'string',
            format: 'date-time',
            description: 'Report date/time'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/DiagnosticReportStatus'
                }
            ],
            description: 'Status'
        },
        generatedBy: {
            type: 'string',
            description: 'Generated by user ID'
        },
        conclusion: {
            type: 'string',
            description: 'Conclusion'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        satusehatDiagnosticReportId: {
            type: 'string',
            description: 'SatuSehat DiagnosticReport ID'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'Whether synced to SatuSehat'
        },
        satusehatSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to SatuSehat'
        },
        satusehatSyncError: {
            type: 'string',
            description: 'SatuSehat sync error'
        },
        isJknSynced: {
            type: 'boolean',
            description: 'Whether synced to JKN'
        },
        jknSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to JKN'
        },
        jknSyncError: {
            type: 'string',
            description: 'JKN sync error'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Diagnostic Report\n\nSummary report of laboratory results'
} as const;

export const DiagnosticReportListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/DiagnosticReport'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Diagnostic report list response'
} as const;

export const DiagnosticReportResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/DiagnosticReport'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single diagnostic report response'
} as const;

export const DiagnosticReportStatusSchema = {
    type: 'string',
    enum: [
        'preliminary',
        'final',
        'amended',
        'cancelled'
    ],
    description: 'Diagnostic report status'
} as const;

export const DispenseStatusSchema = {
    type: 'string',
    enum: [
        'pending',
        'dispensed',
        'partiallyDispensed',
        'cancelled'
    ],
    description: 'Dispense status'
} as const;

export const DocumentControlSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'documentNumber',
        'documentType',
        'documentTitle',
        'version',
        'status',
        'acknowledgementRequired',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        documentNumber: {
            type: 'string',
            description: 'Document number'
        },
        documentType: {
            allOf: [
                {
                    $ref: '#/components/schemas/DocumentControlType'
                }
            ],
            description: 'Document type'
        },
        documentTitle: {
            type: 'string',
            description: 'Document title'
        },
        documentTitleId: {
            type: 'string',
            description: 'Document title in Indonesian'
        },
        department: {
            type: 'string',
            description: 'Department'
        },
        category: {
            type: 'string',
            description: 'Category'
        },
        version: {
            type: 'string',
            description: 'Version'
        },
        previousVersion: {
            type: 'string',
            description: 'Previous version'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/DocumentControlStatus'
                }
            ],
            description: 'Status'
        },
        purpose: {
            type: 'string',
            description: 'Purpose'
        },
        scope: {
            type: 'string',
            description: 'Scope'
        },
        content: {
            type: 'string',
            description: 'Content'
        },
        attachmentUrl: {
            type: 'string',
            description: 'Attachment URL'
        },
        draftedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Drafted at'
        },
        draftedBy: {
            type: 'string',
            description: 'Drafted by user ID'
        },
        reviewedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Reviewed at'
        },
        reviewedBy: {
            type: 'string',
            description: 'Reviewed by user ID'
        },
        approvedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Approved at'
        },
        approvedBy: {
            type: 'string',
            description: 'Approved by user ID'
        },
        publishedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Published at'
        },
        publishedBy: {
            type: 'string',
            description: 'Published by user ID'
        },
        effectiveDate: {
            type: 'string',
            format: 'date',
            description: 'Effective date'
        },
        reviewDate: {
            type: 'string',
            format: 'date',
            description: 'Review date'
        },
        retirementDate: {
            type: 'string',
            format: 'date',
            description: 'Retirement date'
        },
        distributionList: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Distribution list'
        },
        acknowledgementRequired: {
            type: 'boolean',
            description: 'Whether acknowledgement required'
        },
        revisionHistory: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    version: {
                        type: 'string'
                    },
                    date: {
                        type: 'string'
                    },
                    changedBy: {
                        type: 'string'
                    },
                    changes: {
                        type: 'string'
                    }
                },
                required: [
                    'version',
                    'date',
                    'changedBy',
                    'changes'
                ]
            },
            description: 'Revision history'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Document Control\n\nControlled documents for accreditation (SPO, policies)'
} as const;

export const DocumentControlListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/DocumentControl'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Document control list response'
} as const;

export const DocumentControlResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/DocumentControl'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single document control response'
} as const;

export const DocumentControlStatusSchema = {
    type: 'string',
    enum: [
        'draft',
        'review',
        'approved',
        'published',
        'underRevision',
        'retired'
    ],
    description: 'Document control status'
} as const;

export const DocumentControlTypeSchema = {
    type: 'string',
    enum: [
        'spo',
        'policy',
        'clinicalGuideline',
        'form',
        'instruction',
        'standard'
    ],
    description: 'Document control type'
} as const;

export const DosageFormSchema = {
    type: 'string',
    enum: [
        'tablet',
        'capsule',
        'syrup',
        'injection',
        'ointment',
        'drops',
        'inhaler',
        'suppository',
        'other'
    ],
    description: 'Dosage form'
} as const;

export const EncounterSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'encounterNumber',
        'patientId',
        'practitionerId',
        'polyclinicId',
        'encounterType',
        'encounterClass',
        'status',
        'startTime',
        'isSatusehatSynced',
        'isJknSynced',
        'isDeleted',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique encounter identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        encounterNumber: {
            type: 'string',
            description: 'Encounter number',
            example: 'ENC-2024-001234'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID'
        },
        polyclinicId: {
            type: 'string',
            description: 'Polyclinic ID'
        },
        appointmentId: {
            type: 'string',
            description: 'Appointment ID (if from appointment)'
        },
        encounterType: {
            allOf: [
                {
                    $ref: '#/components/schemas/EncounterType'
                }
            ],
            description: 'Encounter type'
        },
        encounterClass: {
            allOf: [
                {
                    $ref: '#/components/schemas/EncounterClass'
                }
            ],
            description: 'Encounter class (FHIR)'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/EncounterStatus'
                }
            ],
            description: 'Encounter status'
        },
        startTime: {
            type: 'string',
            format: 'date-time',
            description: 'Start time'
        },
        endTime: {
            type: 'string',
            format: 'date-time',
            description: 'End time'
        },
        chiefComplaint: {
            type: 'string',
            description: 'Chief complaint'
        },
        reasonForVisit: {
            type: 'string',
            description: 'Reason for visit'
        },
        physicalExamination: {
            type: 'object',
            additionalProperties: {},
            description: 'Physical examination notes (JSON)'
        },
        assessment: {
            type: 'string',
            description: 'Assessment notes'
        },
        plan: {
            type: 'string',
            description: 'Plan notes'
        },
        bpjsSepNumber: {
            type: 'string',
            description: 'BPJS SEP number'
        },
        satusehatEncounterId: {
            type: 'string',
            description: 'SatuSehat encounter ID'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'SatuSehat sync status'
        },
        satusehatSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to SatuSehat'
        },
        satusehatSyncError: {
            type: 'string',
            description: 'SatuSehat sync error'
        },
        isJknSynced: {
            type: 'boolean',
            description: 'JKN sync status'
        },
        isDeleted: {
            type: 'boolean',
            description: 'Soft delete status'
        },
        deletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When deleted'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Encounter (Clinical Visit) resource\n\nRepresents a clinical encounter between patient and practitioner.\nAligned with FHIR Encounter resource for SatuSehat integration.'
} as const;

export const EncounterClassSchema = {
    type: 'string',
    enum: [
        'ambulatory',
        'inpatient',
        'emergency',
        'observation'
    ],
    description: 'Encounter class (FHIR-aligned)'
} as const;

export const EncounterListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Encounter'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Encounter list response'
} as const;

export const EncounterResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Encounter'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single encounter response'
} as const;

export const EncounterStatusSchema = {
    type: 'string',
    enum: [
        'planned',
        'arrived',
        'inProgress',
        'onLeave',
        'finished',
        'cancelled'
    ],
    description: 'Encounter status (FHIR-aligned)'
} as const;

export const EncounterTypeSchema = {
    type: 'string',
    enum: [
        'outpatient',
        'inpatient',
        'emergency',
        'homeVisit',
        'virtual'
    ],
    description: 'Encounter type'
} as const;

export const EncounterWithRelationsResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                id: {
                    type: 'string',
                    description: 'Unique encounter identifier'
                },
                organizationId: {
                    type: 'string',
                    description: 'Organization ID (tenant scope)'
                },
                branchId: {
                    type: 'string',
                    description: 'Branch ID'
                },
                encounterNumber: {
                    type: 'string',
                    description: 'Encounter number',
                    example: 'ENC-2024-001234'
                },
                patientId: {
                    type: 'string',
                    description: 'Patient ID'
                },
                practitionerId: {
                    type: 'string',
                    description: 'Practitioner ID'
                },
                polyclinicId: {
                    type: 'string',
                    description: 'Polyclinic ID'
                },
                appointmentId: {
                    type: 'string',
                    description: 'Appointment ID (if from appointment)'
                },
                encounterType: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/EncounterType'
                        }
                    ],
                    description: 'Encounter type'
                },
                encounterClass: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/EncounterClass'
                        }
                    ],
                    description: 'Encounter class (FHIR)'
                },
                status: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/EncounterStatus'
                        }
                    ],
                    description: 'Encounter status'
                },
                startTime: {
                    type: 'string',
                    format: 'date-time',
                    description: 'Start time'
                },
                endTime: {
                    type: 'string',
                    format: 'date-time',
                    description: 'End time'
                },
                chiefComplaint: {
                    type: 'string',
                    description: 'Chief complaint'
                },
                reasonForVisit: {
                    type: 'string',
                    description: 'Reason for visit'
                },
                physicalExamination: {
                    type: 'object',
                    additionalProperties: {},
                    description: 'Physical examination notes (JSON)'
                },
                assessment: {
                    type: 'string',
                    description: 'Assessment notes'
                },
                plan: {
                    type: 'string',
                    description: 'Plan notes'
                },
                bpjsSepNumber: {
                    type: 'string',
                    description: 'BPJS SEP number'
                },
                satusehatEncounterId: {
                    type: 'string',
                    description: 'SatuSehat encounter ID'
                },
                isSatusehatSynced: {
                    type: 'boolean',
                    description: 'SatuSehat sync status'
                },
                satusehatSyncedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When synced to SatuSehat'
                },
                satusehatSyncError: {
                    type: 'string',
                    description: 'SatuSehat sync error'
                },
                isJknSynced: {
                    type: 'boolean',
                    description: 'JKN sync status'
                },
                isDeleted: {
                    type: 'boolean',
                    description: 'Soft delete status'
                },
                deletedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When deleted'
                },
                createdAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When created'
                },
                updatedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When updated'
                },
                patient: {
                    type: 'object',
                    properties: {
                        id: {
                            type: 'string'
                        },
                        fullName: {
                            type: 'string'
                        },
                        medicalRecordNumber: {
                            type: 'string'
                        },
                        dateOfBirth: {
                            type: 'string',
                            format: 'date'
                        },
                        gender: {
                            $ref: '#/components/schemas/Gender'
                        }
                    },
                    required: [
                        'id',
                        'fullName',
                        'medicalRecordNumber',
                        'dateOfBirth',
                        'gender'
                    ]
                },
                practitioner: {
                    type: 'object',
                    properties: {
                        id: {
                            type: 'string'
                        },
                        fullName: {
                            type: 'string'
                        },
                        specialty: {
                            $ref: '#/components/schemas/Specialty'
                        }
                    },
                    required: [
                        'id',
                        'fullName'
                    ]
                },
                polyclinic: {
                    type: 'object',
                    properties: {
                        id: {
                            type: 'string'
                        },
                        polyclinicName: {
                            type: 'string'
                        }
                    },
                    required: [
                        'id',
                        'polyclinicName'
                    ]
                },
                vitalSigns: {
                    $ref: '#/components/schemas/VitalSigns'
                },
                diagnoses: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/Diagnosis'
                    }
                },
                prescriptions: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/Prescription'
                    }
                },
                procedures: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/Procedure'
                    }
                },
                referrals: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/Referral'
                    }
                }
            },
            required: [
                'id',
                'organizationId',
                'encounterNumber',
                'patientId',
                'practitionerId',
                'polyclinicId',
                'encounterType',
                'encounterClass',
                'status',
                'startTime',
                'isSatusehatSynced',
                'isJknSynced',
                'isDeleted',
                'createdAt',
                'updatedAt'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Complete encounter with all related data'
} as const;

export const EnterLabResultRequestSchema = {
    type: 'object',
    properties: {
        specimenId: {
            type: 'string',
            description: 'Specimen ID'
        },
        resultValue: {
            type: 'string',
            description: 'Result value'
        },
        resultText: {
            type: 'string',
            description: 'Result text'
        },
        interpretation: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabResultInterpretation'
                }
            ],
            description: 'Interpretation'
        },
        isAbnormal: {
            type: 'boolean',
            description: 'Whether abnormal'
        },
        isCritical: {
            type: 'boolean',
            description: 'Whether critical'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for entering lab result'
} as const;

export const ErrorSchema = {
    type: 'object',
    required: [
        'code',
        'message',
        'requestId'
    ],
    properties: {
        code: {
            type: 'string',
            description: 'Machine-readable error code'
        },
        message: {
            type: 'string',
            description: 'Human-readable error message'
        },
        details: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/ErrorDetail'
            },
            description: 'Array of detailed error information (e.g., validation errors)'
        },
        requestId: {
            type: 'string',
            description: 'Request ID for tracking and debugging'
        },
        documentationUrl: {
            type: 'string',
            description: 'URL to documentation about this error (optional)'
        }
    },
    description: 'Standard error object'
} as const;

export const ErrorDetailSchema = {
    type: 'object',
    required: [
        'field',
        'code',
        'message'
    ],
    properties: {
        field: {
            type: 'string',
            description: 'The field that caused the error (for validation errors)'
        },
        code: {
            type: 'string',
            description: 'Specific error code for this detail'
        },
        message: {
            type: 'string',
            description: 'Human-readable error message'
        },
        metadata: {
            type: 'object',
            additionalProperties: {},
            description: 'Additional metadata about the error'
        }
    },
    description: 'Detailed error information for a specific field or validation'
} as const;

export const ErrorResponseSchema = {
    type: 'object',
    required: [
        'error'
    ],
    properties: {
        error: {
            allOf: [
                {
                    $ref: '#/components/schemas/Error'
                }
            ],
            description: 'The error object'
        }
    },
    description: 'Standard error response envelope'
} as const;

export const ExampleCommentSchema = {
    type: 'object',
    required: [
        'id',
        'orgId',
        'postId',
        'content',
        'authorId',
        'isDeleted',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique comment identifier (format: cmt_{randomString})',
            example: 'cmt_abc123'
        },
        orgId: {
            type: 'string',
            description: 'Organization ID (tenant scope)',
            example: 'org_xyz789'
        },
        postId: {
            type: 'string',
            description: 'Parent post ID',
            example: 'post_parent456'
        },
        content: {
            type: 'string',
            description: 'Comment content',
            example: 'Great post! Very informative.'
        },
        authorId: {
            type: 'string',
            description: 'Author user ID',
            example: 'usr_commenter789'
        },
        isDeleted: {
            type: 'boolean',
            description: 'Whether the comment is soft deleted'
        },
        deletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the comment was soft deleted'
        },
        deletedBy: {
            type: 'string',
            description: 'User ID who deleted this comment'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the comment was created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the comment was last updated'
        }
    },
    description: 'ExampleComment resource model (nested under ExamplePost)\n\nDemonstrates:\n- Nested sub-resource pattern (belongs to a post)\n- Multi-tenant scoping (orgId)\n- Soft delete with restore capability'
} as const;

export const ExampleCommentListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/ExampleComment'
            }
        },
        pagination: {
            $ref: '#/components/schemas/Pagination'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Comment collection response'
} as const;

export const ExampleCommentResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/ExampleComment'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Single comment response'
} as const;

export const ExamplePostSchema = {
    type: 'object',
    required: [
        'id',
        'orgId',
        'title',
        'content',
        'authorId',
        'status',
        'isDeleted',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique post identifier (format: post_{randomString})',
            example: 'post_abc123'
        },
        orgId: {
            type: 'string',
            description: 'Organization ID (tenant scope)',
            example: 'org_xyz789'
        },
        title: {
            type: 'string',
            description: 'Post title',
            example: 'Introduction to TypeSpec'
        },
        content: {
            type: 'string',
            description: 'Post content (supports markdown)',
            example: 'This is the full content of the post...'
        },
        authorId: {
            type: 'string',
            description: 'Author user ID',
            example: 'usr_author123'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/ExamplePostStatus'
                }
            ],
            description: 'Post status'
        },
        publishedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the post was published (null if not published)'
        },
        isDeleted: {
            type: 'boolean',
            description: 'Whether the post is soft deleted'
        },
        deletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the post was soft deleted (null if not deleted)'
        },
        deletedBy: {
            type: 'string',
            description: 'User ID who deleted this post (null if not deleted)'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the post was created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the post was last updated'
        }
    },
    description: 'ExamplePost resource model\n\nDemonstrates a typical content resource with:\n- Multi-tenant scoping (orgId)\n- Status workflow (draft  published  archived)\n- Soft delete with restore capability'
} as const;

export const ExamplePostCursorListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/ExamplePost'
            }
        },
        pagination: {
            $ref: '#/components/schemas/CursorPagination'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Post collection response (cursor-based)\n\nUsed for streaming/real-time scenarios or large datasets'
} as const;

export const ExamplePostListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/ExamplePost'
            }
        },
        pagination: {
            $ref: '#/components/schemas/Pagination'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Post collection response (page-based)'
} as const;

export const ExamplePostResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/ExamplePost'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Single post response'
} as const;

export const ExamplePostStatusSchema = {
    type: 'string',
    enum: [
        'draft',
        'published',
        'archived'
    ],
    description: 'Post status enum'
} as const;

export const FileSchema = {
    type: 'object',
    required: [
        'id',
        'filename',
        'size',
        'mimeType',
        'storagePath',
        'uploadedBy',
        'uploadedAt',
        'virusScanStatus',
        'access',
        'isDeleted'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique file identifier (format: file_abc123)',
            example: 'file_abc123'
        },
        filename: {
            type: 'string',
            description: 'Original filename (sanitized)',
            example: 'report.pdf'
        },
        size: {
            type: 'integer',
            format: 'int64',
            description: 'File size in bytes',
            example: 2457600
        },
        mimeType: {
            type: 'string',
            description: 'MIME type (verified via magic bytes, not client-provided)',
            example: 'application/pdf'
        },
        storagePath: {
            type: 'string',
            description: 'Storage path (internal, not exposed to clients in production)',
            example: 'orgs/org_abc123/files/file_abc123.pdf'
        },
        url: {
            type: 'string',
            description: 'Signed URL for file access (time-limited)',
            example: 'https://cdn.example.com/files/file_abc123.pdf?signature=...'
        },
        metadata: {
            type: 'object',
            additionalProperties: {
                type: 'string'
            },
            description: 'File metadata (user-provided)'
        },
        uploadedBy: {
            type: 'string',
            description: 'User ID who uploaded the file',
            example: 'usr_xyz789'
        },
        uploadedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the file was uploaded'
        },
        virusScanStatus: {
            allOf: [
                {
                    $ref: '#/components/schemas/VirusScanStatus'
                }
            ],
            description: 'Virus scan status'
        },
        virusScanCompletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when virus scan completed'
        },
        access: {
            allOf: [
                {
                    $ref: '#/components/schemas/FileAccess'
                }
            ],
            description: 'Access level'
        },
        isDeleted: {
            type: 'boolean',
            description: 'Whether the file is soft deleted'
        },
        deletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the file was deleted'
        },
        deletedBy: {
            type: 'string',
            description: 'User ID who deleted this file'
        }
    },
    description: 'File resource model\n\nRepresents an uploaded file with metadata, security status, and access info.'
} as const;

export const FileAccessSchema = {
    type: 'string',
    enum: [
        'private',
        'public'
    ],
    description: 'File access level'
} as const;

export const FileDeleteResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                id: {
                    type: 'string',
                    description: 'ID of the deleted file'
                },
                deletedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When the file was deleted'
                },
                deletedBy: {
                    type: 'string',
                    description: 'Who deleted the file'
                }
            },
            required: [
                'id',
                'deletedAt',
                'deletedBy'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'File deletion response'
} as const;

export const FileListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/File'
            }
        },
        pagination: {
            $ref: '#/components/schemas/Pagination'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'File list response with pagination'
} as const;

export const FileResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/File'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Single file response'
} as const;

export const FrequencySchema = {
    type: 'string',
    enum: [
        'onceDaily',
        'twiceDaily',
        'threeTimesDaily',
        'fourTimesDaily',
        'every8Hours',
        'every12Hours',
        'every24Hours',
        'asNeeded',
        'other'
    ],
    description: 'Medication frequency'
} as const;

export const GenderSchema = {
    type: 'string',
    enum: [
        'male',
        'female',
        'other'
    ],
    description: 'Gender (FHIR-aligned)'
} as const;

export const GenerateSlotsRequestSchema = {
    type: 'object',
    required: [
        'scheduleId',
        'dateFrom',
        'dateTo'
    ],
    properties: {
        scheduleId: {
            type: 'string',
            minLength: 1,
            description: 'Schedule ID'
        },
        dateFrom: {
            type: 'string',
            format: 'date',
            description: 'Date from'
        },
        dateTo: {
            type: 'string',
            format: 'date',
            description: 'Date to'
        },
        slotDurationMinutes: {
            type: 'integer',
            format: 'int32',
            minimum: 5,
            description: 'Slot duration in minutes'
        }
    },
    description: 'Request body for generating slots'
} as const;

export const IncidentSeveritySchema = {
    type: 'string',
    enum: [
        'nearMiss',
        'noHarm',
        'mild',
        'moderate',
        'severe',
        'sentinel'
    ],
    description: 'Patient safety incident severity'
} as const;

export const IncidentStatusSchema = {
    type: 'string',
    enum: [
        'reported',
        'investigating',
        'actionRequired',
        'resolved',
        'closed'
    ],
    description: 'Incident status'
} as const;

export const InfectionControlCategorySchema = {
    type: 'string',
    enum: [
        'iad',
        'vap',
        'cauti',
        'ssi',
        'clabsi',
        'haiOther'
    ],
    description: 'Infection control category'
} as const;

export const InfectionSurveillanceSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'surveillanceNumber',
        'category',
        'status',
        'patientId',
        'detectionDate',
        'reportedDate',
        'reportedBy',
        'deviceRelated',
        'surgeryRelated',
        'bundleComplianceChecked',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        surveillanceNumber: {
            type: 'string',
            description: 'Surveillance number'
        },
        category: {
            allOf: [
                {
                    $ref: '#/components/schemas/InfectionControlCategory'
                }
            ],
            description: 'Category'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/InfectionSurveillanceStatus'
                }
            ],
            description: 'Status'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        detectionDate: {
            type: 'string',
            format: 'date',
            description: 'Detection date'
        },
        reportedDate: {
            type: 'string',
            format: 'date',
            description: 'Reported date'
        },
        reportedBy: {
            type: 'string',
            description: 'Reported by user ID'
        },
        ward: {
            type: 'string',
            description: 'Ward'
        },
        roomNumber: {
            type: 'string',
            description: 'Room number'
        },
        infectionSite: {
            type: 'string',
            description: 'Infection site'
        },
        organism: {
            type: 'string',
            description: 'Organism (pathogen)'
        },
        cultureResult: {
            type: 'string',
            description: 'Culture result'
        },
        antibioticSensitivity: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    antibiotic: {
                        type: 'string'
                    },
                    result: {
                        type: 'string',
                        enum: [
                            'sensitive',
                            'intermediate',
                            'resistant'
                        ]
                    }
                },
                required: [
                    'antibiotic',
                    'result'
                ]
            },
            description: 'Antibiotic sensitivity'
        },
        deviceRelated: {
            type: 'boolean',
            description: 'Whether device-related'
        },
        deviceType: {
            type: 'string',
            description: 'Device type'
        },
        deviceInsertionDate: {
            type: 'string',
            format: 'date',
            description: 'Device insertion date'
        },
        deviceRemovalDate: {
            type: 'string',
            format: 'date',
            description: 'Device removal date'
        },
        surgeryRelated: {
            type: 'boolean',
            description: 'Whether surgery-related'
        },
        surgeryDate: {
            type: 'string',
            format: 'date',
            description: 'Surgery date'
        },
        surgeryType: {
            type: 'string',
            description: 'Surgery type'
        },
        outcome: {
            type: 'string',
            description: 'Outcome'
        },
        resolvedDate: {
            type: 'string',
            format: 'date',
            description: 'Resolved date'
        },
        daysOfInfection: {
            type: 'integer',
            format: 'int32',
            description: 'Days of infection'
        },
        investigatedBy: {
            type: 'string',
            description: 'Investigated by user ID'
        },
        investigationNotes: {
            type: 'string',
            description: 'Investigation notes'
        },
        bundleComplianceChecked: {
            type: 'boolean',
            description: 'Bundle compliance checked'
        },
        bundleComplianceScore: {
            type: 'number',
            format: 'double',
            description: 'Bundle compliance score'
        },
        actionsTaken: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    action: {
                        type: 'string'
                    },
                    date: {
                        type: 'string'
                    },
                    performedBy: {
                        type: 'string'
                    }
                },
                required: [
                    'action',
                    'date',
                    'performedBy'
                ]
            },
            description: 'Actions taken'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Infection Surveillance\n\nHealthcare-associated infection (HAI) tracking for PPI'
} as const;

export const InfectionSurveillanceListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/InfectionSurveillance'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Infection surveillance list response'
} as const;

export const InfectionSurveillanceResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/InfectionSurveillance'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single infection surveillance response'
} as const;

export const InfectionSurveillanceStatusSchema = {
    type: 'string',
    enum: [
        'suspected',
        'confirmed',
        'resolved',
        'notInfection'
    ],
    description: 'Infection surveillance status'
} as const;

export const InitiateUploadRequestSchema = {
    type: 'object',
    required: [
        'filename',
        'contentType',
        'size'
    ],
    properties: {
        filename: {
            type: 'string',
            minLength: 1,
            maxLength: 255,
            description: 'Original filename'
        },
        contentType: {
            type: 'string',
            description: 'MIME type of the file',
            example: 'application/pdf'
        },
        size: {
            type: 'integer',
            format: 'int64',
            minimum: 1,
            description: 'File size in bytes'
        },
        metadata: {
            type: 'object',
            additionalProperties: {
                type: 'string'
            },
            description: 'Optional metadata'
        }
    },
    description: 'Request to initiate a presigned URL upload'
} as const;

export const InitiateUploadResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                uploadId: {
                    type: 'string',
                    description: 'Upload ID for confirmation step',
                    example: 'upl_xyz789'
                },
                presignedUrl: {
                    type: 'string',
                    description: 'Presigned URL to upload to',
                    example: 'https://s3.amazonaws.com/bucket/key?X-Amz-Algorithm=...'
                },
                method: {
                    type: 'string',
                    enum: [
                        'PUT'
                    ],
                    description: 'HTTP method to use'
                },
                headers: {
                    type: 'object',
                    additionalProperties: {
                        type: 'string'
                    },
                    description: 'Required headers for the upload'
                },
                expiresAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When the presigned URL expires'
                },
                maxSize: {
                    type: 'integer',
                    format: 'int64',
                    description: 'Maximum allowed file size'
                }
            },
            required: [
                'uploadId',
                'presignedUrl',
                'method',
                'headers',
                'expiresAt',
                'maxSize'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Response with presigned URL for direct upload to storage'
} as const;

export const IntegrationDashboardResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                satusehat: {
                    type: 'object',
                    properties: {
                        isConfigured: {
                            type: 'boolean',
                            description: 'Whether configured'
                        },
                        healthStatus: {
                            type: 'string',
                            enum: [
                                'healthy',
                                'degraded',
                                'unhealthy',
                                'unknown'
                            ],
                            description: 'Health status'
                        },
                        lastSyncAt: {
                            type: 'string',
                            format: 'date-time',
                            description: 'Last sync time'
                        },
                        pendingSyncs: {
                            type: 'integer',
                            format: 'int32',
                            description: 'Pending syncs count'
                        },
                        failedSyncs: {
                            type: 'integer',
                            format: 'int32',
                            description: 'Failed syncs count'
                        },
                        syncedToday: {
                            type: 'integer',
                            format: 'int32',
                            description: 'Total synced today'
                        }
                    },
                    required: [
                        'isConfigured',
                        'healthStatus',
                        'pendingSyncs',
                        'failedSyncs',
                        'syncedToday'
                    ],
                    description: 'SatuSehat stats'
                },
                jkn: {
                    type: 'object',
                    properties: {
                        configuredApis: {
                            type: 'array',
                            items: {
                                type: 'string'
                            },
                            description: 'Configured APIs'
                        },
                        healthStatus: {
                            type: 'string',
                            enum: [
                                'healthy',
                                'degraded',
                                'unhealthy',
                                'unknown'
                            ],
                            description: 'Health status'
                        },
                        lastSyncAt: {
                            type: 'string',
                            format: 'date-time',
                            description: 'Last sync time'
                        },
                        pendingSyncs: {
                            type: 'integer',
                            format: 'int32',
                            description: 'Pending syncs count'
                        },
                        failedSyncs: {
                            type: 'integer',
                            format: 'int32',
                            description: 'Failed syncs count'
                        },
                        syncedToday: {
                            type: 'integer',
                            format: 'int32',
                            description: 'Total synced today'
                        }
                    },
                    required: [
                        'configuredApis',
                        'healthStatus',
                        'pendingSyncs',
                        'failedSyncs',
                        'syncedToday'
                    ],
                    description: 'JKN stats'
                },
                recentErrors: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/IntegrationErrorLog'
                    },
                    description: 'Recent errors'
                }
            },
            required: [
                'satusehat',
                'jkn',
                'recentErrors'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Integration dashboard/summary'
} as const;

export const IntegrationErrorLogSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'integrationType',
        'resourceType',
        'errorCategory',
        'errorMessage',
        'resolution',
        'createdAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        integrationType: {
            type: 'string',
            enum: [
                'satusehat',
                'jkn'
            ],
            description: 'Integration type'
        },
        syncQueueId: {
            type: 'string',
            description: 'Sync queue ID'
        },
        resourceType: {
            type: 'string',
            description: 'Resource type'
        },
        resourceId: {
            type: 'string',
            description: 'Resource ID'
        },
        errorCategory: {
            type: 'string',
            enum: [
                'transient',
                'client',
                'auth',
                'notFound',
                'server',
                'validation',
                'unknown'
            ],
            description: 'Error category'
        },
        errorCode: {
            type: 'string',
            description: 'Error code'
        },
        errorMessage: {
            type: 'string',
            description: 'Error message'
        },
        requestPayload: {
            type: 'object',
            additionalProperties: {},
            description: 'Request payload'
        },
        responsePayload: {
            type: 'object',
            additionalProperties: {},
            description: 'Response payload'
        },
        stackTrace: {
            type: 'string',
            description: 'Stack trace'
        },
        resolution: {
            type: 'string',
            enum: [
                'pending',
                'resolved',
                'autoResolved',
                'ignored'
            ],
            description: 'Resolution status'
        },
        resolvedBy: {
            type: 'string',
            description: 'Resolved by user ID'
        },
        resolvedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When resolved'
        },
        resolutionNotes: {
            type: 'string',
            description: 'Resolution notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        }
    },
    description: 'Integration error log'
} as const;

export const IntegrationErrorLogListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/IntegrationErrorLog'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Error log list response'
} as const;

export const IntegrationErrorLogResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/IntegrationErrorLog'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Error log response'
} as const;

export const IntegrationSyncQueueSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'integrationType',
        'resourceType',
        'resourceId',
        'operation',
        'status',
        'priority',
        'retryCount',
        'maxRetries',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        integrationType: {
            type: 'string',
            enum: [
                'satusehat',
                'jkn'
            ],
            description: 'Integration type'
        },
        resourceType: {
            type: 'string',
            description: 'Resource type'
        },
        resourceId: {
            type: 'string',
            description: 'Resource ID'
        },
        operation: {
            type: 'string',
            enum: [
                'create',
                'update',
                'delete',
                'search',
                'validate'
            ],
            description: 'Operation type'
        },
        status: {
            type: 'string',
            enum: [
                'pending',
                'processing',
                'completed',
                'failed',
                'skipped'
            ],
            description: 'Sync status'
        },
        priority: {
            type: 'integer',
            format: 'int32',
            description: 'Priority (lower = higher priority)'
        },
        requestPayload: {
            type: 'object',
            additionalProperties: {},
            description: 'Request payload (JSON)'
        },
        responsePayload: {
            type: 'object',
            additionalProperties: {},
            description: 'Response payload (JSON)'
        },
        externalId: {
            type: 'string',
            description: 'External ID (from SatuSehat/JKN)'
        },
        errorMessage: {
            type: 'string',
            description: 'Error message'
        },
        errorCategory: {
            type: 'string',
            enum: [
                'transient',
                'client',
                'auth',
                'notFound',
                'server',
                'validation',
                'unknown'
            ],
            description: 'Error category'
        },
        retryCount: {
            type: 'integer',
            format: 'int32',
            description: 'Retry count'
        },
        maxRetries: {
            type: 'integer',
            format: 'int32',
            description: 'Max retries'
        },
        nextRetryAt: {
            type: 'string',
            format: 'date-time',
            description: 'Next retry time'
        },
        correlationId: {
            type: 'string',
            description: 'Correlation ID for tracking'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        },
        completedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When completed'
        }
    },
    description: 'Integration sync queue entry\n\nTracks pending synchronization operations'
} as const;

export const IntegrationSyncQueueListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/IntegrationSyncQueue'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Sync queue list response'
} as const;

export const IntegrationSyncQueueResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/IntegrationSyncQueue'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Sync queue response'
} as const;

export const IntegrationTestResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                status: {
                    type: 'string',
                    enum: [
                        'success',
                        'partial',
                        'failed'
                    ],
                    description: 'Test status'
                },
                results: {
                    type: 'array',
                    items: {
                        type: 'object',
                        properties: {
                            test: {
                                type: 'string',
                                description: 'Test name'
                            },
                            passed: {
                                type: 'boolean',
                                description: 'Test passed'
                            },
                            error: {
                                type: 'string',
                                description: 'Error message if failed'
                            },
                            responseTimeMs: {
                                type: 'integer',
                                format: 'int32',
                                description: 'Response time in ms'
                            }
                        },
                        required: [
                            'test',
                            'passed'
                        ]
                    },
                    description: 'Test results'
                },
                healthStatus: {
                    type: 'string',
                    enum: [
                        'healthy',
                        'degraded',
                        'unhealthy'
                    ],
                    description: 'Overall health status'
                },
                testedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'Timestamp'
                }
            },
            required: [
                'status',
                'results',
                'healthStatus',
                'testedAt'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Integration test result'
} as const;

export const IntegrationWebhookSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'source',
        'eventType',
        'payload',
        'status',
        'receivedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        source: {
            type: 'string',
            enum: [
                'satusehat',
                'jkn'
            ],
            description: 'Source'
        },
        eventType: {
            type: 'string',
            description: 'Event type'
        },
        payload: {
            type: 'object',
            additionalProperties: {},
            description: 'Webhook payload'
        },
        status: {
            type: 'string',
            enum: [
                'received',
                'processing',
                'processed',
                'failed',
                'ignored'
            ],
            description: 'Processing status'
        },
        errorMessage: {
            type: 'string',
            description: 'Error message'
        },
        syncQueueId: {
            type: 'string',
            description: 'Sync queue ID (if created)'
        },
        receivedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When received'
        },
        processedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When processed'
        }
    },
    description: 'Integration webhook (incoming events from SatuSehat/JKN)'
} as const;

export const InvoiceSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'patientId',
        'invoiceNumber',
        'invoiceDate',
        'status',
        'paymentType',
        'payerType',
        'subtotal',
        'discountAmount',
        'taxAmount',
        'totalAmount',
        'amountPaid',
        'balanceDue',
        'currency',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        invoiceNumber: {
            type: 'string',
            description: 'Invoice number'
        },
        invoiceDate: {
            type: 'string',
            format: 'date-time',
            description: 'Invoice date'
        },
        dueDate: {
            type: 'string',
            format: 'date-time',
            description: 'Due date'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/InvoiceStatus'
                }
            ],
            description: 'Status'
        },
        paymentType: {
            allOf: [
                {
                    $ref: '#/components/schemas/PaymentType'
                }
            ],
            description: 'Payment type'
        },
        payerType: {
            allOf: [
                {
                    $ref: '#/components/schemas/PayerType'
                }
            ],
            description: 'Payer type'
        },
        bpjsNumber: {
            type: 'string',
            description: 'BPJS number (if JKN)'
        },
        insuranceCompany: {
            type: 'string',
            description: 'Insurance company (if private insurance)'
        },
        insurancePolicyNumber: {
            type: 'string',
            description: 'Insurance policy number'
        },
        subtotal: {
            type: 'number',
            format: 'double',
            description: 'Subtotal (before discount/tax)'
        },
        discountAmount: {
            type: 'number',
            format: 'double',
            description: 'Discount amount'
        },
        discountPercent: {
            type: 'number',
            format: 'double',
            description: 'Discount percentage'
        },
        discountReason: {
            type: 'string',
            description: 'Discount reason'
        },
        taxAmount: {
            type: 'number',
            format: 'double',
            description: 'Tax amount'
        },
        totalAmount: {
            type: 'number',
            format: 'double',
            description: 'Total amount'
        },
        amountPaid: {
            type: 'number',
            format: 'double',
            description: 'Amount paid'
        },
        balanceDue: {
            type: 'number',
            format: 'double',
            description: 'Balance due'
        },
        currency: {
            type: 'string',
            description: 'Currency'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        items: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/InvoiceItem'
            },
            description: 'Invoice items'
        },
        approvedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When approved'
        },
        approvedBy: {
            type: 'string',
            description: 'Approved by user ID'
        },
        voidedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When voided'
        },
        voidedBy: {
            type: 'string',
            description: 'Voided by user ID'
        },
        voidReason: {
            type: 'string',
            description: 'Void reason'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Invoice\n\nBill for services rendered to a patient'
} as const;

export const InvoiceItemSchema = {
    type: 'object',
    required: [
        'id',
        'invoiceId',
        'itemType',
        'itemCode',
        'itemName',
        'quantity',
        'unit',
        'unitPrice',
        'discountAmount',
        'totalAmount',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        invoiceId: {
            type: 'string',
            description: 'Invoice ID'
        },
        itemType: {
            allOf: [
                {
                    $ref: '#/components/schemas/BillableItemType'
                }
            ],
            description: 'Item type'
        },
        itemCode: {
            type: 'string',
            description: 'Item code'
        },
        itemName: {
            type: 'string',
            description: 'Item name'
        },
        quantity: {
            type: 'number',
            format: 'double',
            description: 'Quantity'
        },
        unit: {
            type: 'string',
            description: 'Unit'
        },
        unitPrice: {
            type: 'number',
            format: 'double',
            description: 'Unit price'
        },
        discountAmount: {
            type: 'number',
            format: 'double',
            description: 'Discount amount'
        },
        totalAmount: {
            type: 'number',
            format: 'double',
            description: 'Total amount'
        },
        referenceId: {
            type: 'string',
            description: 'Reference ID (e.g., prescription ID, procedure ID)'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Invoice Item\n\nIndividual billable item on an invoice'
} as const;

export const InvoiceListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Invoice'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Invoice list response'
} as const;

export const InvoiceResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Invoice'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single invoice response'
} as const;

export const InvoiceStatusSchema = {
    type: 'string',
    enum: [
        'draft',
        'pending',
        'partial',
        'paid',
        'cancelled',
        'voided'
    ],
    description: 'Invoice status'
} as const;

export const JknConfigSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'apiType',
        'environment',
        'consId',
        'secretKeyMasked',
        'userKeyMasked',
        'baseUrl',
        'isActive',
        'healthStatus',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID (optional)'
        },
        apiType: {
            type: 'string',
            enum: [
                'vclaim',
                'antrean',
                'antreanFktp',
                'apotek',
                'aplicares',
                'icare',
                'pcare',
                'rekamMedis'
            ],
            description: 'JKN API type'
        },
        environment: {
            type: 'string',
            enum: [
                'development',
                'production'
            ],
            description: 'Environment'
        },
        consId: {
            type: 'string',
            description: 'Consumer ID (cons_id)'
        },
        secretKeyMasked: {
            type: 'string',
            description: 'Secret key (masked in responses)'
        },
        userKeyMasked: {
            type: 'string',
            description: 'User key (masked in responses)'
        },
        ppkPelayanan: {
            type: 'string',
            description: 'PPK Pelayanan (facility code)'
        },
        ppkBpjs: {
            type: 'string',
            description: 'PPK BPJS code'
        },
        facilityType: {
            allOf: [
                {
                    $ref: '#/components/schemas/BpjsFacilityType'
                }
            ],
            description: 'Facility type'
        },
        baseUrl: {
            type: 'string',
            description: 'API base URL'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether config is active'
        },
        healthStatus: {
            type: 'string',
            enum: [
                'healthy',
                'degraded',
                'unhealthy',
                'unknown'
            ],
            description: 'Last health check status'
        },
        lastHealthCheckAt: {
            type: 'string',
            format: 'date-time',
            description: 'Last health check time'
        },
        lastSyncAt: {
            type: 'string',
            format: 'date-time',
            description: 'Last successful sync time'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'JKN/BPJS Kesehatan configuration per tenant\n\nStores API credentials for all JKN APIs:\n- VClaim (SEP, Rujukan, Peserta)\n- Antrean (Queue management)\n- Apotek (Pharmacy)\n- Aplicares (Bed availability)\n- ICare (Mobile integration)\n- PCare (Primary care)\n- Rekam Medis (Medical records)'
} as const;

export const JknConfigListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/JknConfig'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'JKN config list response'
} as const;

export const JknConfigResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/JknConfig'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single JKN config response'
} as const;

export const JobSchema = {
    type: 'object',
    required: [
        'jobId',
        'tenantId',
        'type',
        'status',
        'createdBy',
        'createdAt'
    ],
    properties: {
        jobId: {
            type: 'string',
            description: 'Unique job identifier (format: job_abc123)',
            example: 'job_abc123'
        },
        tenantId: {
            type: 'string',
            description: 'Tenant this job belongs to',
            example: 'org_xyz789'
        },
        type: {
            type: 'string',
            description: 'Type of operation (e.g., "bulkImport", "reportGeneration")',
            example: 'bulkImport'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/JobStatus'
                }
            ],
            description: 'Current job status'
        },
        progress: {
            type: 'integer',
            format: 'int32',
            minimum: 0,
            maximum: 100,
            description: 'Progress percentage (0-100, if available)'
        },
        message: {
            type: 'string',
            description: 'Human-readable status message',
            example: 'Processing 150 of 500 records...'
        },
        result: {
            type: 'object',
            additionalProperties: {},
            description: 'Result data (when completed)'
        },
        error: {
            type: 'object',
            properties: {
                code: {
                    type: 'string',
                    description: 'Error code'
                },
                message: {
                    type: 'string',
                    description: 'Error message'
                },
                details: {
                    type: 'object',
                    additionalProperties: {},
                    description: 'Additional error details'
                }
            },
            required: [
                'code',
                'message'
            ],
            description: 'Error details (when failed)'
        },
        createdBy: {
            type: 'string',
            description: 'Who initiated the job',
            example: 'usr_123'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the job was created'
        },
        startedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the job started processing'
        },
        completedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the job completed (success or failure)'
        },
        estimatedCompletion: {
            type: 'string',
            format: 'date-time',
            description: 'Estimated completion time (if available)'
        }
    },
    description: 'Async job resource\n\nRepresents a long-running operation that can be polled for status.'
} as const;

export const JobListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Job'
            }
        },
        pagination: {
            $ref: '#/components/schemas/Pagination'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Job list response'
} as const;

export const JobResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/Job'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Job status response'
} as const;

export const JobStatusSchema = {
    type: 'string',
    enum: [
        'pending',
        'processing',
        'completed',
        'failed',
        'cancelled'
    ],
    description: 'Job status'
} as const;

export const LabOrderSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'patientId',
        'orderNumber',
        'orderedAt',
        'orderedBy',
        'priority',
        'status',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        queueId: {
            type: 'string',
            description: 'Queue ID'
        },
        orderNumber: {
            type: 'string',
            description: 'Order number'
        },
        orderedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When ordered'
        },
        orderedBy: {
            type: 'string',
            description: 'Ordered by user ID'
        },
        priority: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabQueuePriority'
                }
            ],
            description: 'Priority'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabQueueStatus'
                }
            ],
            description: 'Status'
        },
        clinicalInfo: {
            type: 'string',
            description: 'Clinical information'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        items: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/LabOrderItem'
            },
            description: 'Order items'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Lab Order\n\nOrder for laboratory tests'
} as const;

export const LabOrderItemSchema = {
    type: 'object',
    required: [
        'id',
        'orderId',
        'labTestId',
        'testCode',
        'testName',
        'priority',
        'status',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        orderId: {
            type: 'string',
            description: 'Order ID'
        },
        labTestId: {
            type: 'string',
            description: 'Lab test ID'
        },
        testCode: {
            type: 'string',
            description: 'Test code'
        },
        testName: {
            type: 'string',
            description: 'Test name'
        },
        testNameId: {
            type: 'string',
            description: 'Test name in Indonesian'
        },
        priority: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabQueuePriority'
                }
            ],
            description: 'Priority'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabQueueStatus'
                }
            ],
            description: 'Status'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Lab Order Item\n\nIndividual test within a lab order'
} as const;

export const LabOrderListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/LabOrder'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Lab order list response'
} as const;

export const LabOrderResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabOrder'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single lab order response'
} as const;

export const LabQueueSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'patientId',
        'queueNumber',
        'status',
        'priority',
        'isFasting',
        'fastingVerified',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        queueNumber: {
            type: 'string',
            description: 'Queue number'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabQueueStatus'
                }
            ],
            description: 'Queue status'
        },
        priority: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabQueuePriority'
                }
            ],
            description: 'Priority'
        },
        isFasting: {
            type: 'boolean',
            description: 'Whether fasting required'
        },
        fastingVerified: {
            type: 'boolean',
            description: 'Whether fasting verified'
        },
        fastingVerifiedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When fasting verified'
        },
        fastingVerifiedBy: {
            type: 'string',
            description: 'Fasting verified by user ID'
        },
        clinicalInfo: {
            type: 'string',
            description: 'Clinical information'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Lab Queue entry\n\nPatient queue for lab specimen collection'
} as const;

export const LabQueuePrioritySchema = {
    type: 'string',
    enum: [
        'routine',
        'urgent',
        'stat',
        'cito'
    ],
    description: 'Lab queue priority'
} as const;

export const LabQueueStatusSchema = {
    type: 'string',
    enum: [
        'pending',
        'collecting',
        'received',
        'processing',
        'resulted',
        'authorized',
        'completed',
        'cancelled'
    ],
    description: 'Lab queue status'
} as const;

export const LabResultSchema = {
    type: 'object',
    required: [
        'id',
        'orderItemId',
        'resultDate',
        'isAbnormal',
        'isCritical',
        'status',
        'isSatusehatSynced',
        'isJknSynced',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        orderItemId: {
            type: 'string',
            description: 'Order item ID'
        },
        specimenId: {
            type: 'string',
            description: 'Specimen ID'
        },
        resultDate: {
            type: 'string',
            format: 'date-time',
            description: 'Result date/time'
        },
        resultValue: {
            type: 'string',
            description: 'Result value'
        },
        resultText: {
            type: 'string',
            description: 'Result text (for narrative results)'
        },
        interpretation: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabResultInterpretation'
                }
            ],
            description: 'Interpretation'
        },
        isAbnormal: {
            type: 'boolean',
            description: 'Whether result is abnormal'
        },
        isCritical: {
            type: 'boolean',
            description: 'Whether result is critical'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabResultStatus'
                }
            ],
            description: 'Status'
        },
        verifiedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When verified'
        },
        verifiedBy: {
            type: 'string',
            description: 'Verified by user ID'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        satusehatObservationId: {
            type: 'string',
            description: 'SatuSehat Observation ID'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'Whether synced to SatuSehat'
        },
        satusehatSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to SatuSehat'
        },
        satusehatSyncError: {
            type: 'string',
            description: 'SatuSehat sync error'
        },
        isJknSynced: {
            type: 'boolean',
            description: 'Whether synced to JKN'
        },
        jknSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to JKN'
        },
        jknSyncError: {
            type: 'string',
            description: 'JKN sync error'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Lab Result\n\nResult from laboratory analysis'
} as const;

export const LabResultInterpretationSchema = {
    type: 'string',
    enum: [
        'normal',
        'low',
        'high',
        'criticalLow',
        'criticalHigh',
        'abnormal'
    ],
    description: 'Lab result interpretation'
} as const;

export const LabResultListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/LabResult'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Lab result list response'
} as const;

export const LabResultResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabResult'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single lab result response'
} as const;

export const LabResultStatusSchema = {
    type: 'string',
    enum: [
        'preliminary',
        'final',
        'amended',
        'cancelled'
    ],
    description: 'Lab result status'
} as const;

export const LabResultTypeSchema = {
    type: 'string',
    enum: [
        'numeric',
        'text',
        'positiveNegative',
        'image'
    ],
    description: 'Lab result type'
} as const;

export const LabTestSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'testCode',
        'testName',
        'testCategory',
        'testType',
        'resultType',
        'isActive',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        testCode: {
            type: 'string',
            description: 'Test code'
        },
        testName: {
            type: 'string',
            description: 'Test name'
        },
        testNameId: {
            type: 'string',
            description: 'Test name in Indonesian'
        },
        testCategory: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabTestCategory'
                }
            ],
            description: 'Test category'
        },
        testType: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabTestType'
                }
            ],
            description: 'Test type'
        },
        description: {
            type: 'string',
            description: 'Description'
        },
        specimenType: {
            type: 'string',
            description: 'Specimen type required'
        },
        resultType: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabResultType'
                }
            ],
            description: 'Result type'
        },
        unit: {
            type: 'string',
            description: 'Unit of measurement'
        },
        normalRange: {
            type: 'string',
            description: 'Normal range description'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether test is active'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Lab Test definition\n\nDefines available laboratory tests with reference ranges'
} as const;

export const LabTestCategorySchema = {
    type: 'string',
    enum: [
        'hematology',
        'chemistry',
        'urinalysis',
        'serology',
        'microbiology',
        'histopathology',
        'other'
    ],
    description: 'Lab test category'
} as const;

export const LabTestListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/LabTest'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Lab test list response'
} as const;

export const LabTestReferenceRangeSchema = {
    type: 'object',
    required: [
        'id',
        'labTestId'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        labTestId: {
            type: 'string',
            description: 'Lab test ID'
        },
        gender: {
            type: 'string',
            description: 'Gender filter'
        },
        ageMin: {
            type: 'integer',
            format: 'int32',
            description: 'Minimum age'
        },
        ageMax: {
            type: 'integer',
            format: 'int32',
            description: 'Maximum age'
        },
        ageUnit: {
            type: 'string',
            description: 'Age unit'
        },
        minValue: {
            type: 'string',
            description: 'Minimum normal value'
        },
        maxValue: {
            type: 'string',
            description: 'Maximum normal value'
        },
        minValueCritical: {
            type: 'string',
            description: 'Critical low value'
        },
        maxValueCritical: {
            type: 'string',
            description: 'Critical high value'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Lab Test Reference Range\n\nReference ranges by age and gender'
} as const;

export const LabTestResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabTest'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single lab test response'
} as const;

export const LabTestTypeSchema = {
    type: 'string',
    enum: [
        'quantitative',
        'qualitative',
        'semiQuantitative',
        'culture'
    ],
    description: 'Lab test type'
} as const;

export const MaritalStatusSchema = {
    type: 'string',
    enum: [
        'single',
        'married',
        'divorced',
        'widowed'
    ],
    description: 'Patient marital status'
} as const;

export const MarkAllReadResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                markedCount: {
                    type: 'integer',
                    format: 'int32',
                    description: 'Number of notifications marked as read'
                }
            },
            required: [
                'markedCount'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Mark all as read response'
} as const;

export const MigrationStatusSchema = {
    type: 'string',
    enum: [
        'current',
        'deprecated',
        'sunset'
    ],
    description: 'Version lifecycle status'
} as const;

export const MigrationStatusResponseSchema = {
    type: 'object',
    required: [
        'version',
        'status'
    ],
    properties: {
        version: {
            type: 'string',
            description: 'API version (e.g., "v1")'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/MigrationStatus'
                }
            ],
            description: 'Version lifecycle status'
        },
        sunsetDate: {
            type: 'string',
            format: 'date-time',
            description: 'ISO 8601 date when this version will be removed (if deprecated)'
        },
        daysUntilSunset: {
            type: 'integer',
            format: 'int32',
            description: 'Days remaining until sunset (if deprecated)'
        },
        replacementVersion: {
            type: 'string',
            description: 'Version to migrate to (if deprecated)'
        },
        migrationGuideUrl: {
            type: 'string',
            description: 'URL to the migration guide'
        },
        breakingChanges: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'List of breaking changes in the replacement version'
        },
        migrationChecklist: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Steps to complete the migration'
        }
    },
    description: 'Migration status for an API version'
} as const;

export const NotificationSchema = {
    type: 'object',
    required: [
        'id',
        'channel',
        'category',
        'priority',
        'status',
        'retryCount',
        'maxRetries',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique notification identifier',
            example: 'notif_abc123'
        },
        userId: {
            type: 'string',
            description: 'User ID who should receive this notification',
            example: 'usr_xyz789'
        },
        channel: {
            allOf: [
                {
                    $ref: '#/components/schemas/NotificationChannel'
                }
            ],
            description: 'Notification channel'
        },
        category: {
            allOf: [
                {
                    $ref: '#/components/schemas/NotificationCategory'
                }
            ],
            description: 'Notification category'
        },
        priority: {
            allOf: [
                {
                    $ref: '#/components/schemas/NotificationPriority'
                }
            ],
            description: 'Notification priority'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/NotificationStatus'
                }
            ],
            description: 'Current notification status'
        },
        recipientEmail: {
            type: 'string',
            description: 'Email address this was sent to'
        },
        recipientPhone: {
            type: 'string',
            description: 'Phone number this was sent to'
        },
        recipientTelegramId: {
            type: 'string',
            description: 'Telegram ID this was sent to'
        },
        templateId: {
            type: 'string',
            description: 'Template ID used (if any)'
        },
        subject: {
            type: 'string',
            description: 'Subject line (for email)'
        },
        body: {
            type: 'string',
            description: 'Plain text body'
        },
        bodyHtml: {
            type: 'string',
            description: 'HTML body (for email)'
        },
        templateData: {
            type: 'object',
            additionalProperties: {},
            description: 'Template data used for rendering'
        },
        campaignId: {
            type: 'string',
            description: 'Campaign ID for bulk sends'
        },
        provider: {
            type: 'string',
            description: 'Provider used to send (e.g., "nodemailer", "twilio")'
        },
        providerMessageId: {
            type: 'string',
            description: 'Provider\'s message ID'
        },
        sentAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when notification was sent'
        },
        deliveredAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when notification was delivered'
        },
        failedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when notification failed'
        },
        readAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when notification was read by user'
        },
        deletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when notification was soft deleted'
        },
        retryCount: {
            type: 'integer',
            format: 'int32',
            description: 'Number of retry attempts'
        },
        maxRetries: {
            type: 'integer',
            format: 'int32',
            description: 'Maximum retry attempts allowed'
        },
        nextRetryAt: {
            type: 'string',
            format: 'date-time',
            description: 'Next retry timestamp'
        },
        statusMessage: {
            type: 'string',
            description: 'Status message (error details if failed)'
        },
        metadata: {
            type: 'object',
            additionalProperties: {},
            description: 'Metadata for custom data'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when notification was created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when notification was last updated'
        }
    },
    description: 'Notification resource model'
} as const;

export const NotificationCategorySchema = {
    type: 'string',
    enum: [
        'transactional',
        'marketing',
        'security',
        'system'
    ],
    description: 'Notification category enum'
} as const;

export const NotificationChannelSchema = {
    type: 'string',
    enum: [
        'email',
        'sms',
        'whatsapp',
        'telegram',
        'push'
    ],
    description: 'Notification channel enum'
} as const;

export const NotificationListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Notification'
            }
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Notification collection response'
} as const;

export const NotificationPreferencesSchema = {
    type: 'object',
    required: [
        'userId',
        'emailEnabled',
        'smsEnabled',
        'whatsappEnabled',
        'telegramEnabled',
        'pushEnabled',
        'marketingEnabled',
        'transactionalEnabled',
        'securityEnabled',
        'systemEnabled',
        'quietHoursEnabled',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        userId: {
            type: 'string',
            description: 'User ID'
        },
        emailEnabled: {
            type: 'boolean',
            description: 'Email notifications enabled'
        },
        smsEnabled: {
            type: 'boolean',
            description: 'SMS notifications enabled'
        },
        whatsappEnabled: {
            type: 'boolean',
            description: 'WhatsApp notifications enabled'
        },
        telegramEnabled: {
            type: 'boolean',
            description: 'Telegram notifications enabled'
        },
        pushEnabled: {
            type: 'boolean',
            description: 'Push notifications enabled'
        },
        marketingEnabled: {
            type: 'boolean',
            description: 'Marketing notifications enabled'
        },
        transactionalEnabled: {
            type: 'boolean',
            description: 'Transactional notifications enabled'
        },
        securityEnabled: {
            type: 'boolean',
            description: 'Security notifications enabled'
        },
        systemEnabled: {
            type: 'boolean',
            description: 'System notifications enabled'
        },
        preferredEmail: {
            type: 'string',
            description: 'Preferred email address'
        },
        preferredPhone: {
            type: 'string',
            description: 'Preferred phone number'
        },
        preferredTelegramId: {
            type: 'string',
            description: 'Preferred Telegram ID'
        },
        quietHoursEnabled: {
            type: 'boolean',
            description: 'Quiet hours enabled'
        },
        quietHoursStart: {
            type: 'string',
            description: 'Quiet hours start time (HH:mm format)'
        },
        quietHoursEnd: {
            type: 'string',
            description: 'Quiet hours end time (HH:mm format)'
        },
        quietHoursTimezone: {
            type: 'string',
            description: 'Quiet hours timezone (IANA format)'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when last updated'
        }
    },
    description: 'Notification preferences model'
} as const;

export const NotificationPreferencesResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/NotificationPreferences'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Notification preferences response'
} as const;

export const NotificationPrioritySchema = {
    type: 'string',
    enum: [
        'urgent',
        'high',
        'normal',
        'low'
    ],
    description: 'Notification priority enum'
} as const;

export const NotificationRecipientSchema = {
    type: 'object',
    properties: {
        email: {
            type: 'string',
            description: 'Email address (required for email channel)',
            example: 'user@example.com'
        },
        phone: {
            type: 'string',
            description: 'Phone number in E.164 format (required for SMS/WhatsApp)',
            example: '+1234567890'
        },
        telegramId: {
            type: 'string',
            description: 'Telegram chat ID (required for Telegram channel)',
            example: '123456789'
        }
    },
    description: 'Notification recipient information'
} as const;

export const NotificationResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/Notification'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Single notification response'
} as const;

export const NotificationStatusSchema = {
    type: 'string',
    enum: [
        'pending',
        'queued',
        'processing',
        'sent',
        'delivered',
        'failed',
        'bounced'
    ],
    description: 'Notification status enum'
} as const;

export const OrgTypeSchema = {
    type: 'string',
    enum: [
        'clinic',
        'hospital',
        'polyclinic',
        'pharmacy',
        'laboratory'
    ],
    description: 'Organization type'
} as const;

export const OrganizationSchema = {
    type: 'object',
    required: [
        'id',
        'orgCode',
        'orgName',
        'orgType',
        'country',
        'isActive',
        'isSatusehatSynced',
        'isDeleted',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique organization identifier',
            example: 'org_abc123'
        },
        orgCode: {
            type: 'string',
            description: 'Organization code (unique per system)',
            example: 'CLINIC001'
        },
        orgName: {
            type: 'string',
            description: 'Organization name',
            example: 'Klinik Sehat Sentosa'
        },
        orgNameId: {
            type: 'string',
            description: 'Organization name in Indonesian (if different)'
        },
        orgType: {
            allOf: [
                {
                    $ref: '#/components/schemas/OrgType'
                }
            ],
            description: 'Organization type'
        },
        licenseNumber: {
            type: 'string',
            description: 'Health facility license number',
            example: '1234/SIUP/2024'
        },
        npwp: {
            type: 'string',
            description: 'NPWP (Tax ID)',
            example: '01.234.567.8-901.234'
        },
        bpjsPpkCode: {
            type: 'string',
            description: 'BPJS PPK code',
            example: '0012A456'
        },
        satusehatOrgId: {
            type: 'string',
            description: 'SatuSehat organization ID'
        },
        address: {
            type: 'string',
            description: 'Address'
        },
        city: {
            type: 'string',
            description: 'City'
        },
        province: {
            type: 'string',
            description: 'Province'
        },
        postalCode: {
            type: 'string',
            description: 'Postal code'
        },
        country: {
            type: 'string',
            description: 'Country (default: Indonesia)'
        },
        phone: {
            type: 'string',
            description: 'Phone number'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email address'
        },
        website: {
            type: 'string',
            format: 'uri',
            description: 'Website URL'
        },
        logoUrl: {
            type: 'string',
            description: 'Logo URL'
        },
        operatingHours: {
            type: 'object',
            additionalProperties: {},
            description: 'Operating hours (JSON)'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether organization is active'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'SatuSehat sync status'
        },
        satusehatSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to SatuSehat'
        },
        isDeleted: {
            type: 'boolean',
            description: 'Soft delete status'
        },
        deletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When soft deleted'
        },
        deletedBy: {
            type: 'string',
            description: 'Who deleted'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When last updated'
        }
    },
    description: 'Organization (Tenant) resource\n\nRepresents a healthcare facility such as clinic, hospital, or pharmacy.\nAll resources are scoped to an organization (multi-tenant).'
} as const;

export const OrganizationListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Organization'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Organization list response with pagination'
} as const;

export const OrganizationResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Organization'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single organization response'
} as const;

export const PaginationSchema = {
    type: 'object',
    required: [
        'page',
        'pageSize',
        'totalPages',
        'totalCount',
        'hasNext',
        'hasPrevious'
    ],
    properties: {
        page: {
            type: 'integer',
            format: 'int32',
            description: 'Current page number (1-indexed)'
        },
        pageSize: {
            type: 'integer',
            format: 'int32',
            description: 'Number of items per page'
        },
        totalPages: {
            type: 'integer',
            format: 'int32',
            description: 'Total number of pages'
        },
        totalCount: {
            type: 'integer',
            format: 'int32',
            description: 'Total number of items across all pages'
        },
        hasNext: {
            type: 'boolean',
            description: 'Whether there is a next page'
        },
        hasPrevious: {
            type: 'boolean',
            description: 'Whether there is a previous page'
        },
        links: {
            allOf: [
                {
                    $ref: '#/components/schemas/PaginationLinks'
                }
            ],
            description: 'Navigation links for pagination'
        },
        requestedPageSize: {
            type: 'integer',
            format: 'int32',
            description: 'Original requested page size (included if pageSize was capped)'
        }
    },
    description: 'Page-based pagination metadata for collection responses'
} as const;

export const PaginationLinksSchema = {
    type: 'object',
    required: [
        'first',
        'previous',
        'next',
        'last'
    ],
    properties: {
        first: {
            type: 'string',
            nullable: true,
            description: 'URL for the first page'
        },
        previous: {
            type: 'string',
            nullable: true,
            description: 'URL for the previous page (null if on first page)'
        },
        next: {
            type: 'string',
            nullable: true,
            description: 'URL for the next page (null if on last page)'
        },
        last: {
            type: 'string',
            nullable: true,
            description: 'URL for the last page'
        }
    },
    description: 'Pagination links for navigating through paginated results'
} as const;

export const PatientSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'medicalRecordNumber',
        'firstName',
        'lastName',
        'fullName',
        'gender',
        'dateOfBirth',
        'nationality',
        'status',
        'isJknVerified',
        'isSatusehatSynced',
        'isDeleted',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique patient identifier',
            example: 'pat_abc123'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID (optional location scope)'
        },
        medicalRecordNumber: {
            type: 'string',
            description: 'Medical record number',
            example: 'MRN-2024-001234'
        },
        nik: {
            type: 'string',
            description: 'NIK (Indonesian National ID - 16 digits)',
            example: '3201234567890001'
        },
        bpjsNumber: {
            type: 'string',
            description: 'BPJS number',
            example: '0001234567890'
        },
        satusehatIhsId: {
            type: 'string',
            description: 'SatuSehat IHS ID'
        },
        firstName: {
            type: 'string',
            description: 'First name',
            example: 'Ahmad'
        },
        lastName: {
            type: 'string',
            description: 'Last name',
            example: 'Wijaya'
        },
        firstNameId: {
            type: 'string',
            description: 'First name in Indonesian (if different)'
        },
        lastNameId: {
            type: 'string',
            description: 'Last name in Indonesian'
        },
        fullName: {
            type: 'string',
            description: 'Full name (computed)'
        },
        fullNameId: {
            type: 'string',
            description: 'Full name in Indonesian'
        },
        gender: {
            allOf: [
                {
                    $ref: '#/components/schemas/Gender'
                }
            ],
            description: 'Gender'
        },
        dateOfBirth: {
            type: 'string',
            format: 'date',
            description: 'Date of birth'
        },
        placeOfBirth: {
            type: 'string',
            description: 'Place of birth'
        },
        maritalStatus: {
            allOf: [
                {
                    $ref: '#/components/schemas/MaritalStatus'
                }
            ],
            description: 'Marital status'
        },
        bloodType: {
            allOf: [
                {
                    $ref: '#/components/schemas/BloodType'
                }
            ],
            description: 'Blood type'
        },
        rhesus: {
            allOf: [
                {
                    $ref: '#/components/schemas/Rhesus'
                }
            ],
            description: 'Rhesus factor'
        },
        religion: {
            type: 'string',
            description: 'Religion'
        },
        nationality: {
            type: 'string',
            description: 'Nationality (default: Indonesia)'
        },
        country: {
            type: 'string',
            description: 'Country (default: Indonesia)'
        },
        education: {
            type: 'string',
            description: 'Education level'
        },
        address: {
            type: 'string',
            description: 'Address'
        },
        city: {
            type: 'string',
            description: 'City'
        },
        province: {
            type: 'string',
            description: 'Province'
        },
        postalCode: {
            type: 'string',
            description: 'Postal code'
        },
        phone: {
            type: 'string',
            description: 'Phone number'
        },
        mobile: {
            type: 'string',
            description: 'Mobile number'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email address'
        },
        occupation: {
            type: 'string',
            description: 'Occupation'
        },
        emergencyContactName: {
            type: 'string',
            description: 'Emergency contact name'
        },
        emergencyContactPhone: {
            type: 'string',
            description: 'Emergency contact phone'
        },
        emergencyContactRelationship: {
            type: 'string',
            description: 'Emergency contact relationship'
        },
        photoUrl: {
            type: 'string',
            description: 'Photo URL'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/PatientStatus'
                }
            ],
            description: 'Patient status'
        },
        isJknVerified: {
            type: 'boolean',
            description: 'JKN verification status'
        },
        jknVerifiedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When JKN was verified'
        },
        jknVerificationError: {
            type: 'string',
            description: 'JKN verification error message'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'SatuSehat sync status'
        },
        satusehatSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to SatuSehat'
        },
        satusehatSyncError: {
            type: 'string',
            description: 'SatuSehat sync error message'
        },
        isDeleted: {
            type: 'boolean',
            description: 'Soft delete status'
        },
        deletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When soft deleted'
        },
        deletedBy: {
            type: 'string',
            description: 'Who deleted'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When last updated'
        }
    },
    description: 'Patient resource\n\nRepresents a patient in the healthcare system.\nAligned with FHIR Patient resource for SatuSehat integration.'
} as const;

export const PatientAllergySchema = {
    type: 'object',
    required: [
        'id',
        'patientId',
        'allergyType',
        'allergen',
        'severity',
        'isActive',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        allergyType: {
            allOf: [
                {
                    $ref: '#/components/schemas/AllergyType'
                }
            ],
            description: 'Allergy type'
        },
        allergen: {
            type: 'string',
            description: 'Allergen name'
        },
        allergenId: {
            type: 'string',
            description: 'Allergen in Indonesian'
        },
        severity: {
            allOf: [
                {
                    $ref: '#/components/schemas/AllergySeverity'
                }
            ],
            description: 'Severity'
        },
        reaction: {
            type: 'string',
            description: 'Reaction description'
        },
        onsetDate: {
            type: 'string',
            format: 'date',
            description: 'Onset date'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether allergy is still active'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        satusehatAllergyIntoleranceId: {
            type: 'string',
            description: 'SatuSehat AllergyIntolerance ID'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Patient allergy record'
} as const;

export const PatientAllergyListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/PatientAllergy'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Allergy list response'
} as const;

export const PatientAllergyResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/PatientAllergy'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single allergy response'
} as const;

export const PatientListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Patient'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Patient list response with pagination'
} as const;

export const PatientResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Patient'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single patient response'
} as const;

export const PatientSafetyIncidentSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'incidentNumber',
        'incidentDate',
        'reportedDate',
        'severity',
        'status',
        'incidentType',
        'incidentDescription',
        'reportedBy',
        'isReportedToKnkp',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        incidentNumber: {
            type: 'string',
            description: 'Incident number'
        },
        incidentDate: {
            type: 'string',
            format: 'date-time',
            description: 'Incident date/time'
        },
        reportedDate: {
            type: 'string',
            format: 'date-time',
            description: 'Reported date/time'
        },
        severity: {
            allOf: [
                {
                    $ref: '#/components/schemas/IncidentSeverity'
                }
            ],
            description: 'Severity'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/IncidentStatus'
                }
            ],
            description: 'Status'
        },
        locationDescription: {
            type: 'string',
            description: 'Location description'
        },
        department: {
            type: 'string',
            description: 'Department'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID (optional)'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID (optional)'
        },
        incidentType: {
            type: 'string',
            description: 'Incident type'
        },
        incidentDescription: {
            type: 'string',
            description: 'Incident description'
        },
        immediateAction: {
            type: 'string',
            description: 'Immediate action taken'
        },
        patientOutcome: {
            type: 'string',
            description: 'Patient outcome'
        },
        reportedBy: {
            type: 'string',
            description: 'Reported by user ID'
        },
        involvedStaff: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    userId: {
                        type: 'string'
                    },
                    name: {
                        type: 'string'
                    },
                    role: {
                        type: 'string'
                    },
                    involvement: {
                        type: 'string'
                    }
                },
                required: [
                    'name',
                    'role',
                    'involvement'
                ]
            },
            description: 'Involved staff'
        },
        witnessInfo: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    name: {
                        type: 'string'
                    },
                    role: {
                        type: 'string'
                    },
                    statement: {
                        type: 'string'
                    }
                },
                required: [
                    'name'
                ]
            },
            description: 'Witness information'
        },
        investigationStartedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Investigation started at'
        },
        investigationCompletedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Investigation completed at'
        },
        investigatedBy: {
            type: 'string',
            description: 'Investigated by user ID'
        },
        rootCauseAnalysis: {
            type: 'string',
            description: 'Root cause analysis'
        },
        contributingFactors: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Contributing factors'
        },
        correctiveActions: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    action: {
                        type: 'string'
                    },
                    responsible: {
                        type: 'string'
                    },
                    dueDate: {
                        type: 'string'
                    },
                    status: {
                        type: 'string'
                    },
                    completedDate: {
                        type: 'string'
                    }
                },
                required: [
                    'action',
                    'responsible',
                    'dueDate',
                    'status'
                ]
            },
            description: 'Corrective actions'
        },
        resolvedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Resolved at'
        },
        resolvedBy: {
            type: 'string',
            description: 'Resolved by user ID'
        },
        lessonLearned: {
            type: 'string',
            description: 'Lesson learned'
        },
        preventiveMeasures: {
            type: 'string',
            description: 'Preventive measures'
        },
        isReportedToKnkp: {
            type: 'boolean',
            description: 'Whether reported to KNKP'
        },
        knkpReportedAt: {
            type: 'string',
            format: 'date-time',
            description: 'KNKP reported at'
        },
        knkpReportNumber: {
            type: 'string',
            description: 'KNKP report number'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Patient Safety Incident\n\nInsiden Keselamatan Pasien (IKP) tracking'
} as const;

export const PatientSafetyIncidentListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/PatientSafetyIncident'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Patient safety incident list response'
} as const;

export const PatientSafetyIncidentResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/PatientSafetyIncident'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single patient safety incident response'
} as const;

export const PatientStatusSchema = {
    type: 'string',
    enum: [
        'active',
        'inactive',
        'deceased'
    ],
    description: 'Patient status'
} as const;

export const PatientWithRelationsResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                id: {
                    type: 'string',
                    description: 'Unique patient identifier',
                    example: 'pat_abc123'
                },
                organizationId: {
                    type: 'string',
                    description: 'Organization ID (tenant scope)'
                },
                branchId: {
                    type: 'string',
                    description: 'Branch ID (optional location scope)'
                },
                medicalRecordNumber: {
                    type: 'string',
                    description: 'Medical record number',
                    example: 'MRN-2024-001234'
                },
                nik: {
                    type: 'string',
                    description: 'NIK (Indonesian National ID - 16 digits)',
                    example: '3201234567890001'
                },
                bpjsNumber: {
                    type: 'string',
                    description: 'BPJS number',
                    example: '0001234567890'
                },
                satusehatIhsId: {
                    type: 'string',
                    description: 'SatuSehat IHS ID'
                },
                firstName: {
                    type: 'string',
                    description: 'First name',
                    example: 'Ahmad'
                },
                lastName: {
                    type: 'string',
                    description: 'Last name',
                    example: 'Wijaya'
                },
                firstNameId: {
                    type: 'string',
                    description: 'First name in Indonesian (if different)'
                },
                lastNameId: {
                    type: 'string',
                    description: 'Last name in Indonesian'
                },
                fullName: {
                    type: 'string',
                    description: 'Full name (computed)'
                },
                fullNameId: {
                    type: 'string',
                    description: 'Full name in Indonesian'
                },
                gender: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/Gender'
                        }
                    ],
                    description: 'Gender'
                },
                dateOfBirth: {
                    type: 'string',
                    format: 'date',
                    description: 'Date of birth'
                },
                placeOfBirth: {
                    type: 'string',
                    description: 'Place of birth'
                },
                maritalStatus: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/MaritalStatus'
                        }
                    ],
                    description: 'Marital status'
                },
                bloodType: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/BloodType'
                        }
                    ],
                    description: 'Blood type'
                },
                rhesus: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/Rhesus'
                        }
                    ],
                    description: 'Rhesus factor'
                },
                religion: {
                    type: 'string',
                    description: 'Religion'
                },
                nationality: {
                    type: 'string',
                    description: 'Nationality (default: Indonesia)'
                },
                country: {
                    type: 'string',
                    description: 'Country (default: Indonesia)'
                },
                education: {
                    type: 'string',
                    description: 'Education level'
                },
                address: {
                    type: 'string',
                    description: 'Address'
                },
                city: {
                    type: 'string',
                    description: 'City'
                },
                province: {
                    type: 'string',
                    description: 'Province'
                },
                postalCode: {
                    type: 'string',
                    description: 'Postal code'
                },
                phone: {
                    type: 'string',
                    description: 'Phone number'
                },
                mobile: {
                    type: 'string',
                    description: 'Mobile number'
                },
                email: {
                    type: 'string',
                    format: 'email',
                    description: 'Email address'
                },
                occupation: {
                    type: 'string',
                    description: 'Occupation'
                },
                emergencyContactName: {
                    type: 'string',
                    description: 'Emergency contact name'
                },
                emergencyContactPhone: {
                    type: 'string',
                    description: 'Emergency contact phone'
                },
                emergencyContactRelationship: {
                    type: 'string',
                    description: 'Emergency contact relationship'
                },
                photoUrl: {
                    type: 'string',
                    description: 'Photo URL'
                },
                status: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/PatientStatus'
                        }
                    ],
                    description: 'Patient status'
                },
                isJknVerified: {
                    type: 'boolean',
                    description: 'JKN verification status'
                },
                jknVerifiedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When JKN was verified'
                },
                jknVerificationError: {
                    type: 'string',
                    description: 'JKN verification error message'
                },
                isSatusehatSynced: {
                    type: 'boolean',
                    description: 'SatuSehat sync status'
                },
                satusehatSyncedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When synced to SatuSehat'
                },
                satusehatSyncError: {
                    type: 'string',
                    description: 'SatuSehat sync error message'
                },
                isDeleted: {
                    type: 'boolean',
                    description: 'Soft delete status'
                },
                deletedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When soft deleted'
                },
                deletedBy: {
                    type: 'string',
                    description: 'Who deleted'
                },
                createdAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When created'
                },
                updatedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When last updated'
                },
                allergies: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/PatientAllergy'
                    }
                },
                chronicConditions: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/ChronicCondition'
                    }
                }
            },
            required: [
                'id',
                'organizationId',
                'medicalRecordNumber',
                'firstName',
                'lastName',
                'fullName',
                'gender',
                'dateOfBirth',
                'nationality',
                'status',
                'isJknVerified',
                'isSatusehatSynced',
                'isDeleted',
                'createdAt',
                'updatedAt'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Patient with related data (allergies, chronic conditions)'
} as const;

export const PayerTypeSchema = {
    type: 'string',
    enum: [
        'selfPay',
        'bpjs',
        'insurance',
        'corporate'
    ],
    description: 'Payer type'
} as const;

export const PaymentSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'invoiceId',
        'paymentNumber',
        'paymentDate',
        'paymentMethod',
        'amount',
        'currency',
        'status',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        invoiceId: {
            type: 'string',
            description: 'Invoice ID'
        },
        paymentNumber: {
            type: 'string',
            description: 'Payment number'
        },
        paymentDate: {
            type: 'string',
            format: 'date-time',
            description: 'Payment date'
        },
        paymentMethod: {
            allOf: [
                {
                    $ref: '#/components/schemas/PaymentMethod'
                }
            ],
            description: 'Payment method'
        },
        amount: {
            type: 'number',
            format: 'double',
            description: 'Amount'
        },
        currency: {
            type: 'string',
            description: 'Currency'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/PaymentStatus'
                }
            ],
            description: 'Status'
        },
        referenceNumber: {
            type: 'string',
            description: 'Reference number (e.g., bank transfer ref)'
        },
        cardType: {
            type: 'string',
            description: 'Card type (if card payment)'
        },
        cardLast4: {
            type: 'string',
            description: 'Last 4 digits (if card payment)'
        },
        bankName: {
            type: 'string',
            description: 'Bank name (if bank transfer)'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        verifiedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When verified'
        },
        verifiedBy: {
            type: 'string',
            description: 'Verified by user ID'
        },
        receivedBy: {
            type: 'string',
            description: 'Received by user ID'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Payment\n\nPayment received for an invoice'
} as const;

export const PaymentListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Payment'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Payment list response'
} as const;

export const PaymentMethodSchema = {
    type: 'string',
    enum: [
        'cash',
        'debit',
        'credit',
        'qris',
        'transfer',
        'deposit',
        'insurance',
        'bpjs'
    ],
    description: 'Payment method'
} as const;

export const PaymentResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Payment'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single payment response'
} as const;

export const PaymentStatusSchema = {
    type: 'string',
    enum: [
        'completed',
        'partial',
        'cancelled',
        'refunded'
    ],
    description: 'Payment status'
} as const;

export const PaymentTypeSchema = {
    type: 'string',
    enum: [
        'selfPay',
        'jkn',
        'insurance',
        'corporate',
        'mixed'
    ],
    description: 'Payment type'
} as const;

export const PermissionSchema = {
    type: 'object',
    required: [
        'resource',
        'action',
        'effect'
    ],
    properties: {
        resource: {
            type: 'string',
            description: 'Resource identifier (e.g., "users", "invoices", "settings")',
            example: 'documents'
        },
        action: {
            anyOf: [
                {
                    $ref: '#/components/schemas/PermissionAction'
                },
                {
                    type: 'string'
                }
            ],
            description: 'Action to perform on the resource',
            example: 'update'
        },
        effect: {
            allOf: [
                {
                    $ref: '#/components/schemas/PermissionEffect'
                }
            ],
            description: 'Whether to allow or deny this action'
        },
        condition: {
            allOf: [
                {
                    $ref: '#/components/schemas/PermissionCondition'
                }
            ],
            description: 'Optional condition for when this permission applies'
        }
    },
    description: 'Permission definition\n\nPermissions define what actions can be performed on resources.\nThey support allow/deny effects and optional conditions.'
} as const;

export const PermissionActionSchema = {
    type: 'string',
    enum: [
        'read',
        'create',
        'update',
        'delete',
        'manage',
        '*'
    ],
    description: 'Permission actions'
} as const;

export const PermissionConditionSchema = {
    type: 'string',
    enum: [
        '',
        'owner',
        'shared'
    ],
    description: 'Permission condition - when the permission applies\n\nConditions enable dynamic, context-aware access control.'
} as const;

export const PermissionEffectSchema = {
    type: 'string',
    enum: [
        'allow',
        'deny'
    ],
    description: 'Permission effect - whether to allow or deny access\n\nWhen a user has multiple roles, permissions are combined:\n- If ANY role denies an action, it is denied (deny wins)\n- If no role denies and ANY role allows, it is allowed\n- If no rules match, access is denied (default deny)'
} as const;

export const PermissionInputSchema = {
    type: 'object',
    required: [
        'resource',
        'action'
    ],
    properties: {
        resource: {
            type: 'string',
            description: 'Resource identifier'
        },
        action: {
            type: 'string',
            description: 'Action to perform'
        },
        effect: {
            allOf: [
                {
                    $ref: '#/components/schemas/PermissionEffect'
                }
            ],
            description: 'Effect (defaults to "allow" if not specified)'
        },
        condition: {
            allOf: [
                {
                    $ref: '#/components/schemas/PermissionCondition'
                }
            ],
            description: 'Optional condition'
        }
    },
    description: 'Permission input for creating/updating roles'
} as const;

export const PolyclinicSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'polyclinicCode',
        'polyclinicName',
        'polyclinicType',
        'isActive',
        'isSatusehatSynced',
        'isJknSynced',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        polyclinicCode: {
            type: 'string',
            description: 'Polyclinic code'
        },
        polyclinicName: {
            type: 'string',
            description: 'Polyclinic name'
        },
        polyclinicNameId: {
            type: 'string',
            description: 'Polyclinic name in Indonesian'
        },
        polyclinicType: {
            allOf: [
                {
                    $ref: '#/components/schemas/PolyclinicType'
                }
            ],
            description: 'Polyclinic type'
        },
        description: {
            type: 'string',
            description: 'Description'
        },
        location: {
            type: 'string',
            description: 'Physical location'
        },
        floor: {
            type: 'string',
            description: 'Floor'
        },
        queuePrefix: {
            type: 'string',
            description: 'Queue prefix (e.g., "A", "B")'
        },
        satusehatLocationId: {
            type: 'string',
            description: 'SatuSehat location ID'
        },
        bpjsPoliCode: {
            type: 'string',
            description: 'BPJS polyclinic code'
        },
        operatingHours: {
            type: 'object',
            additionalProperties: {},
            description: 'Operating hours (JSON)'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether polyclinic is active'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'SatuSehat sync status'
        },
        satusehatSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to SatuSehat'
        },
        satusehatSyncError: {
            type: 'string',
            description: 'SatuSehat sync error message'
        },
        isJknSynced: {
            type: 'boolean',
            description: 'JKN sync status'
        },
        jknSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to JKN'
        },
        jknSyncError: {
            type: 'string',
            description: 'JKN sync error message'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Polyclinic resource\n\nRepresents a department/unit within the organization'
} as const;

export const PolyclinicListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Polyclinic'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Polyclinic list response'
} as const;

export const PolyclinicResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Polyclinic'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single polyclinic response'
} as const;

export const PolyclinicTypeSchema = {
    type: 'string',
    enum: [
        'general',
        'dental',
        'kia',
        'specialist',
        'emergency',
        'lab',
        'pharmacy'
    ],
    description: 'Polyclinic type'
} as const;

export const PractitionerSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'practitionerNumber',
        'firstName',
        'lastName',
        'fullName',
        'practitionerType',
        'isActive',
        'isSatusehatSynced',
        'isJknSynced',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique practitioner identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        practitionerNumber: {
            type: 'string',
            description: 'Practitioner number (unique)',
            example: 'DOC-2024-001'
        },
        firstName: {
            type: 'string',
            description: 'First name'
        },
        lastName: {
            type: 'string',
            description: 'Last name'
        },
        firstNameId: {
            type: 'string',
            description: 'First name in Indonesian'
        },
        lastNameId: {
            type: 'string',
            description: 'Last name in Indonesian'
        },
        fullName: {
            type: 'string',
            description: 'Full name (computed)'
        },
        gender: {
            allOf: [
                {
                    $ref: '#/components/schemas/Gender'
                }
            ],
            description: 'Gender'
        },
        dateOfBirth: {
            type: 'string',
            format: 'date',
            description: 'Date of birth'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        mobile: {
            type: 'string',
            description: 'Mobile'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        },
        practitionerType: {
            allOf: [
                {
                    $ref: '#/components/schemas/PractitionerType'
                }
            ],
            description: 'Practitioner type'
        },
        specialty: {
            allOf: [
                {
                    $ref: '#/components/schemas/Specialty'
                }
            ],
            description: 'Medical specialty'
        },
        licenseNumber: {
            type: 'string',
            description: 'License number'
        },
        licenseExpiry: {
            type: 'string',
            format: 'date',
            description: 'License expiry date'
        },
        satusehatIhsId: {
            type: 'string',
            description: 'SatuSehat IHS ID'
        },
        nip: {
            type: 'string',
            description: 'NIP (Indonesian employee number)'
        },
        str: {
            type: 'string',
            description: 'STR (Surat Tanda Registrasi)'
        },
        sip: {
            type: 'string',
            description: 'SIP (Surat Izin Praktik)'
        },
        photoUrl: {
            type: 'string',
            description: 'Photo URL'
        },
        bio: {
            type: 'string',
            description: 'Bio'
        },
        education: {
            type: 'array',
            items: {
                type: 'object',
                additionalProperties: {}
            },
            description: 'Education history (JSON array)'
        },
        certifications: {
            type: 'array',
            items: {
                type: 'object',
                additionalProperties: {}
            },
            description: 'Certifications (JSON array)'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether practitioner is active'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'SatuSehat sync status'
        },
        satusehatSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to SatuSehat'
        },
        satusehatSyncError: {
            type: 'string',
            description: 'SatuSehat sync error message'
        },
        isJknSynced: {
            type: 'boolean',
            description: 'JKN sync status'
        },
        jknSyncedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When synced to JKN'
        },
        jknSyncError: {
            type: 'string',
            description: 'JKN sync error message'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Practitioner resource\n\nRepresents healthcare providers such as doctors, nurses, etc.\nAligned with FHIR Practitioner resource for SatuSehat integration.'
} as const;

export const PractitionerCredentialSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'practitionerId',
        'credentialType',
        'credentialNumber',
        'credentialName',
        'issuingAuthority',
        'issuedDate',
        'status',
        'renewalReminderSent',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID'
        },
        credentialType: {
            allOf: [
                {
                    $ref: '#/components/schemas/CredentialType'
                }
            ],
            description: 'Credential type'
        },
        credentialNumber: {
            type: 'string',
            description: 'Credential number'
        },
        credentialName: {
            type: 'string',
            description: 'Credential name'
        },
        issuingAuthority: {
            type: 'string',
            description: 'Issuing authority'
        },
        issuedDate: {
            type: 'string',
            format: 'date',
            description: 'Issued date'
        },
        expiryDate: {
            type: 'string',
            format: 'date',
            description: 'Expiry date'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/CredentialStatus'
                }
            ],
            description: 'Status'
        },
        verifiedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Verified at'
        },
        verifiedBy: {
            type: 'string',
            description: 'Verified by user ID'
        },
        verificationMethod: {
            type: 'string',
            description: 'Verification method'
        },
        documentUrl: {
            type: 'string',
            description: 'Document URL'
        },
        documentHash: {
            type: 'string',
            description: 'Document hash (SHA-256)'
        },
        renewalReminderSent: {
            type: 'boolean',
            description: 'Renewal reminder sent'
        },
        renewalReminderSentAt: {
            type: 'string',
            format: 'date-time',
            description: 'Renewal reminder sent at'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Practitioner Credential\n\nSTR, SIP, and other credentials verification'
} as const;

export const PractitionerCredentialListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/PractitionerCredential'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Practitioner credential list response'
} as const;

export const PractitionerCredentialResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/PractitionerCredential'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single practitioner credential response'
} as const;

export const PractitionerListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Practitioner'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Practitioner list response'
} as const;

export const PractitionerResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Practitioner'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single practitioner response'
} as const;

export const PractitionerScheduleSchema = {
    type: 'object',
    required: [
        'id',
        'practitionerId',
        'polyclinicId',
        'dayOfWeek',
        'startTime',
        'endTime',
        'isAvailable',
        'effectiveFrom',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID'
        },
        polyclinicId: {
            type: 'string',
            description: 'Polyclinic ID'
        },
        dayOfWeek: {
            allOf: [
                {
                    $ref: '#/components/schemas/DayOfWeek'
                }
            ],
            description: 'Day of week'
        },
        startTime: {
            type: 'string',
            description: 'Start time (HH:mm)',
            example: '08:00'
        },
        endTime: {
            type: 'string',
            description: 'End time (HH:mm)',
            example: '12:00'
        },
        isAvailable: {
            type: 'boolean',
            description: 'Whether schedule is available'
        },
        effectiveFrom: {
            type: 'string',
            format: 'date',
            description: 'Effective from date'
        },
        effectiveTo: {
            type: 'string',
            format: 'date',
            description: 'Effective to date (null = ongoing)'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Practitioner schedule'
} as const;

export const PractitionerScheduleListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/PractitionerSchedule'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Schedule list response'
} as const;

export const PractitionerScheduleResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/PractitionerSchedule'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single schedule response'
} as const;

export const PractitionerTypeSchema = {
    type: 'string',
    enum: [
        'doctor',
        'nurse',
        'midwife',
        'pharmacist',
        'labTech',
        'radiologist',
        'specialist'
    ],
    description: 'Practitioner type'
} as const;

export const PractitionerWithSchedulesResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                id: {
                    type: 'string',
                    description: 'Unique practitioner identifier'
                },
                organizationId: {
                    type: 'string',
                    description: 'Organization ID (tenant scope)'
                },
                branchId: {
                    type: 'string',
                    description: 'Branch ID'
                },
                practitionerNumber: {
                    type: 'string',
                    description: 'Practitioner number (unique)',
                    example: 'DOC-2024-001'
                },
                firstName: {
                    type: 'string',
                    description: 'First name'
                },
                lastName: {
                    type: 'string',
                    description: 'Last name'
                },
                firstNameId: {
                    type: 'string',
                    description: 'First name in Indonesian'
                },
                lastNameId: {
                    type: 'string',
                    description: 'Last name in Indonesian'
                },
                fullName: {
                    type: 'string',
                    description: 'Full name (computed)'
                },
                gender: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/Gender'
                        }
                    ],
                    description: 'Gender'
                },
                dateOfBirth: {
                    type: 'string',
                    format: 'date',
                    description: 'Date of birth'
                },
                phone: {
                    type: 'string',
                    description: 'Phone'
                },
                mobile: {
                    type: 'string',
                    description: 'Mobile'
                },
                email: {
                    type: 'string',
                    format: 'email',
                    description: 'Email'
                },
                practitionerType: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/PractitionerType'
                        }
                    ],
                    description: 'Practitioner type'
                },
                specialty: {
                    allOf: [
                        {
                            $ref: '#/components/schemas/Specialty'
                        }
                    ],
                    description: 'Medical specialty'
                },
                licenseNumber: {
                    type: 'string',
                    description: 'License number'
                },
                licenseExpiry: {
                    type: 'string',
                    format: 'date',
                    description: 'License expiry date'
                },
                satusehatIhsId: {
                    type: 'string',
                    description: 'SatuSehat IHS ID'
                },
                nip: {
                    type: 'string',
                    description: 'NIP (Indonesian employee number)'
                },
                str: {
                    type: 'string',
                    description: 'STR (Surat Tanda Registrasi)'
                },
                sip: {
                    type: 'string',
                    description: 'SIP (Surat Izin Praktik)'
                },
                photoUrl: {
                    type: 'string',
                    description: 'Photo URL'
                },
                bio: {
                    type: 'string',
                    description: 'Bio'
                },
                education: {
                    type: 'array',
                    items: {
                        type: 'object',
                        additionalProperties: {}
                    },
                    description: 'Education history (JSON array)'
                },
                certifications: {
                    type: 'array',
                    items: {
                        type: 'object',
                        additionalProperties: {}
                    },
                    description: 'Certifications (JSON array)'
                },
                isActive: {
                    type: 'boolean',
                    description: 'Whether practitioner is active'
                },
                isSatusehatSynced: {
                    type: 'boolean',
                    description: 'SatuSehat sync status'
                },
                satusehatSyncedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When synced to SatuSehat'
                },
                satusehatSyncError: {
                    type: 'string',
                    description: 'SatuSehat sync error message'
                },
                isJknSynced: {
                    type: 'boolean',
                    description: 'JKN sync status'
                },
                jknSyncedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When synced to JKN'
                },
                jknSyncError: {
                    type: 'string',
                    description: 'JKN sync error message'
                },
                createdAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When created'
                },
                updatedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'When updated'
                },
                schedules: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/PractitionerSchedule'
                    }
                },
                polyclinics: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/Polyclinic'
                    }
                }
            },
            required: [
                'id',
                'organizationId',
                'practitionerNumber',
                'firstName',
                'lastName',
                'fullName',
                'practitionerType',
                'isActive',
                'isSatusehatSynced',
                'isJknSynced',
                'createdAt',
                'updatedAt'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Practitioner with schedules'
} as const;

export const PrescriptionSchema = {
    type: 'object',
    required: [
        'id',
        'encounterId',
        'patientId',
        'prescriptionNumber',
        'status',
        'prescribedAt',
        'prescribedBy',
        'dispenseStatus',
        'isSignedOff',
        'isSatusehatSynced',
        'isJknSynced',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        prescriptionNumber: {
            type: 'string',
            description: 'Prescription number',
            example: 'RX-2024-001234'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/PrescriptionStatus'
                }
            ],
            description: 'Prescription status'
        },
        prescribedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When prescribed'
        },
        prescribedBy: {
            type: 'string',
            description: 'Prescribed by user ID'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        dispenseStatus: {
            allOf: [
                {
                    $ref: '#/components/schemas/DispenseStatus'
                }
            ],
            description: 'Dispense status'
        },
        dispensedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When dispensed'
        },
        isSignedOff: {
            type: 'boolean',
            description: 'Sign-off status (for accreditation)'
        },
        signedOffAt: {
            type: 'string',
            format: 'date-time',
            description: 'When signed off'
        },
        signedOffBy: {
            type: 'string',
            description: 'Signed off by user ID'
        },
        satusehatMedicationRequestId: {
            type: 'string',
            description: 'SatuSehat medication request ID'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'SatuSehat sync status'
        },
        isJknSynced: {
            type: 'boolean',
            description: 'JKN sync status'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Prescription record'
} as const;

export const PrescriptionItemSchema = {
    type: 'object',
    required: [
        'id',
        'prescriptionId',
        'genericName',
        'dosageForm',
        'frequency',
        'quantity',
        'dispenseAsWritten',
        'isControlled',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        prescriptionId: {
            type: 'string',
            description: 'Prescription ID'
        },
        medicationId: {
            type: 'string',
            description: 'Medication ID (from pharmacy stock)'
        },
        genericName: {
            type: 'string',
            description: 'Generic name'
        },
        genericNameId: {
            type: 'string',
            description: 'Generic name in Indonesian'
        },
        brandName: {
            type: 'string',
            description: 'Brand name'
        },
        brandNameId: {
            type: 'string',
            description: 'Brand name in Indonesian'
        },
        dosageForm: {
            allOf: [
                {
                    $ref: '#/components/schemas/DosageForm'
                }
            ],
            description: 'Dosage form'
        },
        strength: {
            type: 'string',
            description: 'Strength (e.g., "500mg")'
        },
        unit: {
            type: 'string',
            description: 'Unit (e.g., "tablet", "ml")'
        },
        frequency: {
            allOf: [
                {
                    $ref: '#/components/schemas/Frequency'
                }
            ],
            description: 'Frequency'
        },
        frequencyDescription: {
            type: 'string',
            description: 'Frequency description (if other)'
        },
        route: {
            type: 'string',
            description: 'Route (e.g., "oral", "IV")'
        },
        durationDays: {
            type: 'integer',
            format: 'int32',
            description: 'Duration in days'
        },
        quantity: {
            type: 'integer',
            format: 'int32',
            description: 'Quantity'
        },
        repeatCount: {
            type: 'integer',
            format: 'int32',
            description: 'Repeat count (refills)'
        },
        instructions: {
            type: 'string',
            description: 'Instructions'
        },
        dispenseAsWritten: {
            type: 'boolean',
            description: 'Dispense as written flag'
        },
        isControlled: {
            type: 'boolean',
            description: 'Whether this is a controlled substance'
        },
        rxNormCode: {
            type: 'string',
            description: 'RxNorm code'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        quantityDispensed: {
            type: 'integer',
            format: 'int32',
            description: 'Quantity dispensed'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Prescription item (single medication in prescription)'
} as const;

export const PrescriptionListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Prescription'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Prescription list response'
} as const;

export const PrescriptionResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Prescription'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Prescription response'
} as const;

export const PrescriptionStatusSchema = {
    type: 'string',
    enum: [
        'draft',
        'active',
        'completed',
        'cancelled',
        'onHold'
    ],
    description: 'Prescription status'
} as const;

export const ProcedureSchema = {
    type: 'object',
    required: [
        'id',
        'encounterId',
        'patientId',
        'procedureNumber',
        'procedureName',
        'status',
        'category',
        'performedAt',
        'performedBy',
        'followUpRequired',
        'isSignedOff',
        'isSatusehatSynced',
        'isJknSynced',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        procedureNumber: {
            type: 'string',
            description: 'Procedure number'
        },
        icd9cmCode: {
            type: 'string',
            description: 'ICD-9-CM code'
        },
        icd9cmDescription: {
            type: 'string',
            description: 'ICD-9-CM description'
        },
        procedureName: {
            type: 'string',
            description: 'Procedure name'
        },
        procedureNameId: {
            type: 'string',
            description: 'Procedure name in Indonesian'
        },
        status: {
            type: 'string',
            enum: [
                'preparation',
                'inProgress',
                'completed',
                'notDone',
                'stopped'
            ],
            description: 'Procedure status'
        },
        category: {
            type: 'string',
            enum: [
                'surgical',
                'diagnostic',
                'therapeutic',
                'preventive',
                'palliative',
                'other'
            ],
            description: 'Procedure category'
        },
        performedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When performed'
        },
        performedBy: {
            type: 'string',
            description: 'Performed by user ID'
        },
        assistedBy: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Assisted by user IDs'
        },
        location: {
            type: 'string',
            description: 'Location/room'
        },
        bodySite: {
            type: 'string',
            description: 'Body site'
        },
        outcome: {
            type: 'string',
            description: 'Outcome'
        },
        complication: {
            type: 'string',
            description: 'Complication'
        },
        followUpRequired: {
            type: 'boolean',
            description: 'Follow-up required'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        isSignedOff: {
            type: 'boolean',
            description: 'Sign-off status'
        },
        signedOffAt: {
            type: 'string',
            format: 'date-time',
            description: 'When signed off'
        },
        signedOffBy: {
            type: 'string',
            description: 'Signed off by'
        },
        satusehatProcedureId: {
            type: 'string',
            description: 'SatuSehat procedure ID'
        },
        isSatusehatSynced: {
            type: 'boolean',
            description: 'SatuSehat sync status'
        },
        isJknSynced: {
            type: 'boolean',
            description: 'JKN sync status'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Procedure record'
} as const;

export const ProcedureListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Procedure'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Procedure list response'
} as const;

export const ProcedureResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Procedure'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Procedure response'
} as const;

export const ProcessRefundRequestSchema = {
    type: 'object',
    properties: {
        referenceNumber: {
            type: 'string',
            description: 'Reference number'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for processing refund'
} as const;

export const QualityIndicatorSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'indicatorCode',
        'indicatorName',
        'category',
        'numeratorDefinition',
        'denominatorDefinition',
        'unit',
        'measurementFrequency',
        'isActive',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        indicatorCode: {
            type: 'string',
            description: 'Indicator code'
        },
        indicatorName: {
            type: 'string',
            description: 'Indicator name'
        },
        indicatorNameId: {
            type: 'string',
            description: 'Indicator name in Indonesian'
        },
        category: {
            allOf: [
                {
                    $ref: '#/components/schemas/QualityIndicatorCategory'
                }
            ],
            description: 'Category'
        },
        description: {
            type: 'string',
            description: 'Description'
        },
        numeratorDefinition: {
            type: 'string',
            description: 'Numerator definition'
        },
        denominatorDefinition: {
            type: 'string',
            description: 'Denominator definition'
        },
        formula: {
            type: 'string',
            description: 'Formula'
        },
        unit: {
            type: 'string',
            description: 'Unit'
        },
        targetValue: {
            type: 'number',
            format: 'double',
            description: 'Target value'
        },
        thresholdGreen: {
            type: 'number',
            format: 'double',
            description: 'Green threshold (good)'
        },
        thresholdYellow: {
            type: 'number',
            format: 'double',
            description: 'Yellow threshold (warning)'
        },
        thresholdRed: {
            type: 'number',
            format: 'double',
            description: 'Red threshold (critical)'
        },
        measurementFrequency: {
            type: 'string',
            description: 'Measurement frequency'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether active'
        },
        effectiveFrom: {
            type: 'string',
            format: 'date',
            description: 'Effective from date'
        },
        effectiveTo: {
            type: 'string',
            format: 'date',
            description: 'Effective to date'
        },
        responsibleDepartment: {
            type: 'string',
            description: 'Responsible department'
        },
        responsiblePerson: {
            type: 'string',
            description: 'Responsible person ID'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Quality Indicator\n\nDefinition of a quality metric for monitoring'
} as const;

export const QualityIndicatorCategorySchema = {
    type: 'string',
    enum: [
        'patientSafety',
        'clinicalOutcome',
        'operational',
        'patientExperience',
        'infectionControl',
        'medicationSafety',
        'surgicalSafety',
        'maternalChild',
        'emergency',
        'laboratory',
        'radiology'
    ],
    description: 'Quality indicator category'
} as const;

export const QualityIndicatorListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/QualityIndicator'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Quality indicator list response'
} as const;

export const QualityIndicatorResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/QualityIndicator'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single quality indicator response'
} as const;

export const QualityIndicatorResultSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'indicatorId',
        'periodStart',
        'periodEnd',
        'periodType',
        'numeratorValue',
        'denominatorValue',
        'resultValue',
        'measuredBy',
        'measuredAt',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        indicatorId: {
            type: 'string',
            description: 'Indicator ID'
        },
        periodStart: {
            type: 'string',
            format: 'date',
            description: 'Period start date'
        },
        periodEnd: {
            type: 'string',
            format: 'date',
            description: 'Period end date'
        },
        periodType: {
            type: 'string',
            description: 'Period type'
        },
        numeratorValue: {
            type: 'number',
            format: 'double',
            description: 'Numerator value'
        },
        denominatorValue: {
            type: 'number',
            format: 'double',
            description: 'Denominator value'
        },
        resultValue: {
            type: 'number',
            format: 'double',
            description: 'Result value'
        },
        targetValue: {
            type: 'number',
            format: 'double',
            description: 'Target value'
        },
        isTargetMet: {
            type: 'boolean',
            description: 'Whether target met'
        },
        performanceLevel: {
            type: 'string',
            description: 'Performance level (green, yellow, red)'
        },
        analysis: {
            type: 'string',
            description: 'Analysis'
        },
        rootCause: {
            type: 'string',
            description: 'Root cause'
        },
        improvementPlan: {
            type: 'string',
            description: 'Improvement plan'
        },
        measuredBy: {
            type: 'string',
            description: 'Measured by user ID'
        },
        measuredAt: {
            type: 'string',
            format: 'date-time',
            description: 'Measured at'
        },
        verifiedBy: {
            type: 'string',
            description: 'Verified by user ID'
        },
        verifiedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Verified at'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Quality Indicator Result\n\nMeasurement result for a quality indicator'
} as const;

export const QualityIndicatorResultListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/QualityIndicatorResult'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Quality indicator result list response'
} as const;

export const QualityIndicatorResultResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/QualityIndicatorResult'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single quality indicator result response'
} as const;

export const QueueSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'appointmentId',
        'polyclinicId',
        'practitionerId',
        'queueDate',
        'queueNumber',
        'status',
        'priority',
        'isWalkIn',
        'isOnline',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        appointmentId: {
            type: 'string',
            description: 'Appointment ID'
        },
        polyclinicId: {
            type: 'string',
            description: 'Polyclinic ID'
        },
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID'
        },
        queueDate: {
            type: 'string',
            format: 'date',
            description: 'Queue date'
        },
        queueNumber: {
            type: 'string',
            description: 'Queue number',
            example: 'A001'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/QueueStatus'
                }
            ],
            description: 'Queue status'
        },
        priority: {
            allOf: [
                {
                    $ref: '#/components/schemas/QueuePriority'
                }
            ],
            description: 'Priority'
        },
        isWalkIn: {
            type: 'boolean',
            description: 'Whether this is a walk-in queue'
        },
        isOnline: {
            type: 'boolean',
            description: 'Whether this is an online queue'
        },
        estimatedServiceTime: {
            type: 'string',
            format: 'date-time',
            description: 'Estimated service time'
        },
        serviceStartedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Actual service start time'
        },
        serviceEndedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Actual service end time'
        },
        calledBy: {
            type: 'string',
            description: 'Who called the queue'
        },
        calledAt: {
            type: 'string',
            format: 'date-time',
            description: 'When called'
        },
        counterNumber: {
            type: 'string',
            description: 'Counter/room number'
        },
        waitTimeMinutes: {
            type: 'integer',
            format: 'int32',
            description: 'Wait time in minutes'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Queue entry\n\nRepresents a patient\'s position in the queue'
} as const;

export const QueueCallLogSchema = {
    type: 'object',
    required: [
        'id',
        'queueId',
        'calledBy',
        'calledAt',
        'responded'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        queueId: {
            type: 'string',
            description: 'Queue ID'
        },
        calledBy: {
            type: 'string',
            description: 'Called by user ID'
        },
        calledAt: {
            type: 'string',
            format: 'date-time',
            description: 'When called'
        },
        counterNumber: {
            type: 'string',
            description: 'Counter number'
        },
        responded: {
            type: 'boolean',
            description: 'Whether patient responded'
        },
        respondedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Response time (when patient arrived at counter)'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Queue call log'
} as const;

export const QueueDisplayResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                currentServing: {
                    type: 'array',
                    items: {
                        type: 'object',
                        properties: {
                            polyclinicId: {
                                type: 'string'
                            },
                            polyclinicName: {
                                type: 'string'
                            },
                            queueNumber: {
                                type: 'string'
                            },
                            counterNumber: {
                                type: 'string'
                            }
                        },
                        required: [
                            'polyclinicId',
                            'polyclinicName',
                            'queueNumber'
                        ]
                    },
                    description: 'Current serving queue numbers by polyclinic'
                },
                waiting: {
                    type: 'array',
                    items: {
                        type: 'object',
                        properties: {
                            queueNumber: {
                                type: 'string'
                            },
                            polyclinicName: {
                                type: 'string'
                            },
                            priority: {
                                $ref: '#/components/schemas/QueuePriority'
                            },
                            estimatedWaitMinutes: {
                                type: 'integer',
                                format: 'int32'
                            }
                        },
                        required: [
                            'queueNumber',
                            'polyclinicName',
                            'priority'
                        ]
                    },
                    description: 'Waiting queues'
                },
                stats: {
                    type: 'object',
                    properties: {
                        totalWaiting: {
                            type: 'integer',
                            format: 'int32'
                        },
                        totalServing: {
                            type: 'integer',
                            format: 'int32'
                        },
                        totalCompleted: {
                            type: 'integer',
                            format: 'int32'
                        },
                        averageWaitMinutes: {
                            type: 'integer',
                            format: 'int32'
                        }
                    },
                    required: [
                        'totalWaiting',
                        'totalServing',
                        'totalCompleted',
                        'averageWaitMinutes'
                    ],
                    description: 'Statistics'
                }
            },
            required: [
                'currentServing',
                'waiting',
                'stats'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Queue display info (for display boards)'
} as const;

export const QueueListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Queue'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Queue list response'
} as const;

export const QueuePrioritySchema = {
    type: 'string',
    enum: [
        'routine',
        'urgent',
        'emergency'
    ],
    description: 'Queue priority'
} as const;

export const QueueResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Queue'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single queue response'
} as const;

export const QueueStatusSchema = {
    type: 'string',
    enum: [
        'waiting',
        'called',
        'serving',
        'completed',
        'skipped',
        'cancelled'
    ],
    description: 'Queue status'
} as const;

export const ReceiveSpecimenRequestSchema = {
    type: 'object',
    properties: {
        condition: {
            allOf: [
                {
                    $ref: '#/components/schemas/SpecimenCondition'
                }
            ],
            description: 'Specimen condition on receipt'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for receiving specimen'
} as const;

export const RecordQualityIndicatorResultRequestSchema = {
    type: 'object',
    required: [
        'indicatorId',
        'periodStart',
        'periodEnd',
        'periodType',
        'numeratorValue',
        'denominatorValue'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        indicatorId: {
            type: 'string',
            minLength: 1,
            description: 'Indicator ID'
        },
        periodStart: {
            type: 'string',
            format: 'date',
            description: 'Period start'
        },
        periodEnd: {
            type: 'string',
            format: 'date',
            description: 'Period end'
        },
        periodType: {
            type: 'string',
            minLength: 1,
            description: 'Period type'
        },
        numeratorValue: {
            type: 'number',
            format: 'double',
            description: 'Numerator value'
        },
        denominatorValue: {
            type: 'number',
            format: 'double',
            description: 'Denominator value'
        },
        analysis: {
            type: 'string',
            description: 'Analysis'
        },
        rootCause: {
            type: 'string',
            description: 'Root cause'
        },
        improvementPlan: {
            type: 'string',
            description: 'Improvement plan'
        }
    },
    description: 'Request body for recording quality indicator result'
} as const;

export const RecordVitalSignsRequestSchema = {
    type: 'object',
    properties: {
        temperature: {
            type: 'number',
            format: 'float',
            minimum: 30,
            maximum: 45,
            description: 'Temperature (Celsius)'
        },
        heartRate: {
            type: 'integer',
            format: 'int32',
            minimum: 20,
            maximum: 300,
            description: 'Heart rate (bpm)'
        },
        systolicBp: {
            type: 'integer',
            format: 'int32',
            minimum: 50,
            maximum: 300,
            description: 'Systolic BP (mmHg)'
        },
        diastolicBp: {
            type: 'integer',
            format: 'int32',
            minimum: 30,
            maximum: 200,
            description: 'Diastolic BP (mmHg)'
        },
        respiratoryRate: {
            type: 'integer',
            format: 'int32',
            minimum: 5,
            maximum: 60,
            description: 'Respiratory rate'
        },
        oxygenSaturation: {
            type: 'number',
            format: 'float',
            minimum: 0,
            maximum: 100,
            description: 'Oxygen saturation (%)'
        },
        weight: {
            type: 'number',
            format: 'float',
            minimum: 0.5,
            maximum: 500,
            description: 'Weight (kg)'
        },
        height: {
            type: 'number',
            format: 'float',
            minimum: 20,
            maximum: 300,
            description: 'Height (cm)'
        },
        bloodGlucose: {
            type: 'number',
            format: 'float',
            description: 'Blood glucose (mg/dL)'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for recording vital signs'
} as const;

export const ReferralSchema = {
    type: 'object',
    required: [
        'id',
        'encounterId',
        'patientId',
        'referralNumber',
        'referralType',
        'isUrgent',
        'status',
        'isSignedOff',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        referralNumber: {
            type: 'string',
            description: 'Referral number',
            example: 'REF-2024-001234'
        },
        referralType: {
            type: 'string',
            enum: [
                'internal',
                'external',
                'bpjs'
            ],
            description: 'Referral type'
        },
        referredToFacility: {
            type: 'string',
            description: 'Referred to facility name'
        },
        referredToSpecialty: {
            allOf: [
                {
                    $ref: '#/components/schemas/Specialty'
                }
            ],
            description: 'Referred to specialty'
        },
        referredToPractitioner: {
            type: 'string',
            description: 'Referred to practitioner name'
        },
        referralReason: {
            type: 'string',
            description: 'Referral reason'
        },
        diagnosis: {
            type: 'string',
            description: 'Diagnosis'
        },
        bpjsRujukanNumber: {
            type: 'string',
            description: 'BPJS rujukan number'
        },
        isUrgent: {
            type: 'boolean',
            description: 'Is urgent'
        },
        status: {
            type: 'string',
            enum: [
                'pending',
                'accepted',
                'rejected',
                'completed'
            ],
            description: 'Status'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        isSignedOff: {
            type: 'boolean',
            description: 'Sign-off status'
        },
        signedOffAt: {
            type: 'string',
            format: 'date-time',
            description: 'When signed off'
        },
        signedOffBy: {
            type: 'string',
            description: 'Signed off by user ID'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Referral record'
} as const;

export const ReferralListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Referral'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Referral list response'
} as const;

export const ReferralResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Referral'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Referral response'
} as const;

export const RefundSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'paymentId',
        'invoiceId',
        'refundNumber',
        'refundDate',
        'amount',
        'currency',
        'reason',
        'status',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        paymentId: {
            type: 'string',
            description: 'Payment ID'
        },
        invoiceId: {
            type: 'string',
            description: 'Invoice ID'
        },
        refundNumber: {
            type: 'string',
            description: 'Refund number'
        },
        refundDate: {
            type: 'string',
            format: 'date-time',
            description: 'Refund date'
        },
        amount: {
            type: 'number',
            format: 'double',
            description: 'Amount'
        },
        currency: {
            type: 'string',
            description: 'Currency'
        },
        reason: {
            type: 'string',
            description: 'Reason'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/RefundStatus'
                }
            ],
            description: 'Status'
        },
        refundMethod: {
            allOf: [
                {
                    $ref: '#/components/schemas/PaymentMethod'
                }
            ],
            description: 'Refund method'
        },
        referenceNumber: {
            type: 'string',
            description: 'Reference number'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        approvedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When approved'
        },
        approvedBy: {
            type: 'string',
            description: 'Approved by user ID'
        },
        processedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When processed'
        },
        processedBy: {
            type: 'string',
            description: 'Processed by user ID'
        },
        rejectedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When rejected'
        },
        rejectedBy: {
            type: 'string',
            description: 'Rejected by user ID'
        },
        rejectionReason: {
            type: 'string',
            description: 'Rejection reason'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Refund\n\nRefund for a payment'
} as const;

export const RefundListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Refund'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Refund list response'
} as const;

export const RefundResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Refund'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single refund response'
} as const;

export const RefundStatusSchema = {
    type: 'string',
    enum: [
        'requested',
        'approved',
        'processed',
        'rejected'
    ],
    description: 'Refund status'
} as const;

export const RejectRefundRequestSchema = {
    type: 'object',
    required: [
        'reason'
    ],
    properties: {
        reason: {
            type: 'string',
            minLength: 1,
            description: 'Rejection reason'
        }
    },
    description: 'Request body for rejecting refund'
} as const;

export const ReportInfectionSurveillanceRequestSchema = {
    type: 'object',
    required: [
        'category',
        'patientId',
        'detectionDate'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        category: {
            allOf: [
                {
                    $ref: '#/components/schemas/InfectionControlCategory'
                }
            ],
            description: 'Category'
        },
        patientId: {
            type: 'string',
            minLength: 1,
            description: 'Patient ID'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        detectionDate: {
            type: 'string',
            format: 'date',
            description: 'Detection date'
        },
        ward: {
            type: 'string',
            description: 'Ward'
        },
        roomNumber: {
            type: 'string',
            description: 'Room number'
        },
        infectionSite: {
            type: 'string',
            description: 'Infection site'
        },
        deviceRelated: {
            type: 'boolean',
            description: 'Whether device-related'
        },
        deviceType: {
            type: 'string',
            description: 'Device type'
        },
        surgeryRelated: {
            type: 'boolean',
            description: 'Whether surgery-related'
        },
        surgeryType: {
            type: 'string',
            description: 'Surgery type'
        }
    },
    description: 'Request body for reporting infection surveillance'
} as const;

export const ReportPatientSafetyIncidentRequestSchema = {
    type: 'object',
    required: [
        'incidentDate',
        'severity',
        'incidentType',
        'incidentDescription'
    ],
    properties: {
        branchId: {
            type: 'string',
            description: 'Branch ID'
        },
        incidentDate: {
            type: 'string',
            format: 'date-time',
            description: 'Incident date'
        },
        severity: {
            allOf: [
                {
                    $ref: '#/components/schemas/IncidentSeverity'
                }
            ],
            description: 'Severity'
        },
        locationDescription: {
            type: 'string',
            description: 'Location description'
        },
        department: {
            type: 'string',
            description: 'Department'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        incidentType: {
            type: 'string',
            minLength: 1,
            description: 'Incident type'
        },
        incidentDescription: {
            type: 'string',
            minLength: 1,
            description: 'Incident description'
        },
        immediateAction: {
            type: 'string',
            description: 'Immediate action'
        },
        patientOutcome: {
            type: 'string',
            description: 'Patient outcome'
        }
    },
    description: 'Request body for reporting patient safety incident'
} as const;

export const RescheduleAppointmentRequestSchema = {
    type: 'object',
    required: [
        'appointmentDate',
        'startTime'
    ],
    properties: {
        appointmentDate: {
            type: 'string',
            format: 'date',
            description: 'New appointment date'
        },
        startTime: {
            type: 'string',
            pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]$',
            description: 'New start time'
        },
        endTime: {
            type: 'string',
            pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]$',
            description: 'New end time'
        },
        practitionerId: {
            type: 'string',
            description: 'New practitioner ID'
        },
        reason: {
            type: 'string',
            description: 'Reschedule reason'
        }
    },
    description: 'Request body for rescheduling'
} as const;

export const ResponseMetaSchema = {
    type: 'object',
    required: [
        'requestId',
        'timestamp'
    ],
    properties: {
        requestId: {
            type: 'string',
            description: 'Unique request identifier for tracking and debugging'
        },
        timestamp: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the response was generated'
        },
        apiVersion: {
            type: 'string',
            description: 'API version used for this request'
        },
        tenantId: {
            type: 'string',
            description: 'Tenant/organization ID for multi-tenant requests'
        },
        tenantName: {
            type: 'string',
            description: 'Tenant/organization name for multi-tenant requests'
        },
        durationMs: {
            type: 'integer',
            format: 'int32',
            description: 'Processing time in milliseconds'
        }
    },
    description: 'Response metadata included in all API responses'
} as const;

export const RetrySyncRequestSchema = {
    type: 'object',
    required: [
        'syncQueueIds'
    ],
    properties: {
        syncQueueIds: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Sync queue IDs to retry'
        },
        force: {
            type: 'boolean',
            description: 'Force retry even if max retries reached'
        }
    },
    description: 'Request body for retrying sync'
} as const;

export const RhesusSchema = {
    type: 'string',
    enum: [
        'positive',
        'negative'
    ],
    description: 'Rhesus factor'
} as const;

export const RoleSchema = {
    type: 'object',
    required: [
        'id',
        'applicationId',
        'name',
        'permissions',
        'isSystemRole',
        'isGlobalRole',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique role identifier (format: role_abc123)',
            example: 'role_admin'
        },
        applicationId: {
            type: 'string',
            description: 'Application this role belongs to',
            example: 'app_default'
        },
        tenantId: {
            type: 'string',
            description: 'Tenant this role belongs to (null for global roles)',
            example: 'org_abc123'
        },
        name: {
            type: 'string',
            description: 'Role name',
            example: 'Admin'
        },
        description: {
            type: 'string',
            description: 'Role description',
            example: 'Full administrative access'
        },
        permissions: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Permission'
            },
            description: 'Permissions granted by this role'
        },
        isSystemRole: {
            type: 'boolean',
            description: 'Whether this is a system-defined role (cannot be deleted or renamed)'
        },
        isGlobalRole: {
            type: 'boolean',
            description: 'Whether this is a global role (tenantId is null)'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the role was created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'Timestamp when the role was last updated'
        },
        createdBy: {
            type: 'string',
            description: 'User who created this role',
            example: 'usr_owner'
        }
    },
    description: 'Role resource model\n\nRoles can be:\n- **Global roles**: App-scoped (tenantId is null), apply across all tenants\n- **Tenant roles**: Scoped to a specific organization\n\nUsers can have multiple roles, and permissions are combined with\ndeny-override semantics.'
} as const;

export const RoleListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Role'
            }
        },
        pagination: {
            $ref: '#/components/schemas/Pagination'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Role list response'
} as const;

export const RoleResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/Role'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Single role response'
} as const;

export const SatusehatConfigSchema = {
    type: 'object',
    required: [
        'id',
        'organizationId',
        'environment',
        'clientId',
        'clientSecretMasked',
        'authUrl',
        'apiUrl',
        'isActive',
        'healthStatus',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        organizationId: {
            type: 'string',
            description: 'Organization ID (tenant scope)'
        },
        branchId: {
            type: 'string',
            description: 'Branch ID (optional - config can be org-wide or branch-specific)'
        },
        environment: {
            type: 'string',
            enum: [
                'sandbox',
                'production'
            ],
            description: 'Environment (sandbox or production)'
        },
        clientId: {
            type: 'string',
            description: 'OAuth2 client ID'
        },
        clientSecretMasked: {
            type: 'string',
            description: 'OAuth2 client secret (masked in responses)'
        },
        satusehatOrgId: {
            type: 'string',
            description: 'SatuSehat organization ID'
        },
        authUrl: {
            type: 'string',
            description: 'Auth URL'
        },
        apiUrl: {
            type: 'string',
            description: 'API base URL'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether config is active'
        },
        healthStatus: {
            type: 'string',
            enum: [
                'healthy',
                'degraded',
                'unhealthy',
                'unknown'
            ],
            description: 'Last health check status'
        },
        lastHealthCheckAt: {
            type: 'string',
            format: 'date-time',
            description: 'Last health check time'
        },
        lastSyncAt: {
            type: 'string',
            format: 'date-time',
            description: 'Last successful sync time'
        },
        totalResourcesSynced: {
            type: 'integer',
            format: 'int32',
            description: 'Total resources synced'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'SatuSehat configuration per tenant\n\nStores OAuth2 credentials and settings for SatuSehat FHIR integration.\nEach organization can have its own SatuSehat credentials.'
} as const;

export const SatusehatConfigListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/SatusehatConfig'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'SatuSehat config list response'
} as const;

export const SatusehatConfigResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/SatusehatConfig'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single SatuSehat config response'
} as const;

export const SendNotificationRequestSchema = {
    type: 'object',
    required: [
        'channel',
        'category',
        'recipient'
    ],
    properties: {
        channel: {
            allOf: [
                {
                    $ref: '#/components/schemas/NotificationChannel'
                }
            ],
            description: 'Notification channel'
        },
        category: {
            allOf: [
                {
                    $ref: '#/components/schemas/NotificationCategory'
                }
            ],
            description: 'Notification category'
        },
        priority: {
            allOf: [
                {
                    $ref: '#/components/schemas/NotificationPriority'
                }
            ],
            description: 'Notification priority (default: normal)'
        },
        recipient: {
            allOf: [
                {
                    $ref: '#/components/schemas/NotificationRecipient'
                }
            ],
            description: 'Recipient information'
        },
        templateId: {
            type: 'string',
            description: 'Template ID to use for rendering',
            example: 'welcome-email'
        },
        templateData: {
            type: 'object',
            additionalProperties: {},
            description: 'Data for template rendering'
        },
        subject: {
            type: 'string',
            description: 'Subject line (for email, required if not using template)',
            example: 'Welcome to our platform'
        },
        body: {
            type: 'string',
            description: 'Plain text body (required if not using template)',
            example: 'Thank you for signing up!'
        },
        bodyHtml: {
            type: 'string',
            description: 'HTML body (for email)'
        },
        metadata: {
            type: 'object',
            additionalProperties: {},
            description: 'Custom metadata'
        }
    },
    description: 'Request body for sending a notification'
} as const;

export const SendNotificationResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                messageId: {
                    type: 'string',
                    description: 'Message ID assigned to the notification'
                },
                provider: {
                    type: 'string',
                    description: 'Provider used to send'
                }
            },
            required: [
                'messageId',
                'provider'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Send notification success response'
} as const;

export const SoftDeleteResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                id: {
                    type: 'string',
                    description: 'ID of the deleted resource'
                },
                deletedAt: {
                    type: 'string',
                    format: 'date-time',
                    description: 'Timestamp when the resource was soft deleted'
                },
                deletedBy: {
                    type: 'string',
                    description: 'User ID who performed the deletion'
                },
                deletionReason: {
                    type: 'string',
                    description: 'Reason for deletion (optional, from request)'
                },
                canRestore: {
                    type: 'boolean',
                    description: 'Whether the resource can be restored'
                },
                restoreUntil: {
                    type: 'string',
                    format: 'date-time',
                    description: 'Deadline for restoration (after which hard delete may occur)'
                }
            },
            required: [
                'id',
                'deletedAt',
                'deletedBy',
                'canRestore'
            ]
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Response for soft delete operations\n\nIncludes resource ID, deletion metadata, and restore information'
} as const;

export const SpecialtySchema = {
    type: 'string',
    enum: [
        'generalPractice',
        'internalMedicine',
        'pediatrics',
        'obgyn',
        'surgery',
        'dentistry',
        'ophthalmology',
        'dermatology',
        'psychiatry',
        'radiology',
        'pathology',
        'other'
    ],
    description: 'Medical specialty'
} as const;

export const SpecimenSchema = {
    type: 'object',
    required: [
        'id',
        'orderItemId',
        'specimenNumber',
        'specimenType',
        'collectionDate',
        'collectedBy',
        'status',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        orderItemId: {
            type: 'string',
            description: 'Order item ID'
        },
        specimenNumber: {
            type: 'string',
            description: 'Specimen number'
        },
        specimenType: {
            type: 'string',
            description: 'Specimen type'
        },
        collectionDate: {
            type: 'string',
            format: 'date-time',
            description: 'Collection date/time'
        },
        collectedBy: {
            type: 'string',
            description: 'Collected by user ID'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/SpecimenStatus'
                }
            ],
            description: 'Status'
        },
        condition: {
            allOf: [
                {
                    $ref: '#/components/schemas/SpecimenCondition'
                }
            ],
            description: 'Specimen condition'
        },
        receivedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When received at lab'
        },
        receivedBy: {
            type: 'string',
            description: 'Received by user ID'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Specimen\n\nCollected specimen for laboratory analysis'
} as const;

export const SpecimenConditionSchema = {
    type: 'string',
    enum: [
        'adequate',
        'hemolyzed',
        'lipemic',
        'icteric',
        'clotted',
        'insufficient',
        'contaminated'
    ],
    description: 'Specimen condition'
} as const;

export const SpecimenListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Specimen'
            },
            description: 'Array of resources'
        },
        pagination: {
            allOf: [
                {
                    $ref: '#/components/schemas/Pagination'
                }
            ],
            description: 'Pagination information'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Specimen list response'
} as const;

export const SpecimenResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/Specimen'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Single specimen response'
} as const;

export const SpecimenStatusSchema = {
    type: 'string',
    enum: [
        'collected',
        'received',
        'processing',
        'analyzed',
        'rejected'
    ],
    description: 'Specimen status'
} as const;

export const SwitchContextRequestSchema = {
    type: 'object',
    properties: {
        applicationId: {
            type: 'string',
            description: 'Target application ID (optional, defaults to current)'
        },
        tenantId: {
            type: 'string',
            description: 'Target tenant ID (optional, null to clear tenant context)'
        }
    },
    description: 'Request to switch active context (application and/or tenant)'
} as const;

export const SwitchContextResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                applicationId: {
                    type: 'string',
                    description: 'New active application ID'
                },
                tenantId: {
                    type: 'string',
                    description: 'New active tenant ID (null if no tenant)'
                },
                tenantName: {
                    type: 'string',
                    description: 'Tenant name (if tenant selected)'
                },
                roles: {
                    type: 'array',
                    items: {
                        type: 'string'
                    },
                    description: 'Roles in the new context'
                },
                permissions: {
                    type: 'array',
                    items: {
                        $ref: '#/components/schemas/Permission'
                    },
                    description: 'Effective permissions in the new context'
                }
            },
            required: [
                'applicationId',
                'roles',
                'permissions'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Context switch response'
} as const;

export const TestIntegrationRequestSchema = {
    type: 'object',
    properties: {
        testType: {
            type: 'string',
            enum: [
                'auth',
                'search',
                'full'
            ],
            description: 'Optional specific test to run'
        }
    },
    description: 'Request body for testing integration connection'
} as const;

export const UnreadCountResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                unreadCount: {
                    type: 'integer',
                    format: 'int32',
                    description: 'Number of unread notifications'
                }
            },
            required: [
                'unreadCount'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Unread count response'
} as const;

export const UpdateAccreditationStandardRequestSchema = {
    type: 'object',
    properties: {
        currentLevel: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationLevel'
                }
            ],
            description: 'Current level'
        },
        targetLevel: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationLevel'
                }
            ],
            description: 'Target level'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/AccreditationStatus'
                }
            ],
            description: 'Status'
        },
        nextSurveyDate: {
            type: 'string',
            format: 'date',
            description: 'Next survey date'
        },
        selfAssessmentScore: {
            type: 'number',
            format: 'double',
            description: 'Self-assessment score'
        },
        surveyScore: {
            type: 'number',
            format: 'double',
            description: 'Survey score'
        },
        surveyorOrganization: {
            type: 'string',
            description: 'Surveyor organization'
        },
        certificateNumber: {
            type: 'string',
            description: 'Certificate number'
        },
        certificateUrl: {
            type: 'string',
            description: 'Certificate URL'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for updating accreditation standard'
} as const;

export const UpdateAppointmentRequestSchema = {
    type: 'object',
    properties: {
        practitionerId: {
            type: 'string',
            description: 'Practitioner ID'
        },
        polyclinicId: {
            type: 'string',
            description: 'Polyclinic ID'
        },
        appointmentDate: {
            type: 'string',
            format: 'date',
            description: 'Appointment date'
        },
        startTime: {
            type: 'string',
            description: 'Start time'
        },
        endTime: {
            type: 'string',
            description: 'End time'
        },
        reasonForVisit: {
            type: 'string',
            description: 'Reason for visit'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for updating an appointment'
} as const;

export const UpdateBranchRequestSchema = {
    type: 'object',
    properties: {
        branchName: {
            type: 'string',
            description: 'Branch name'
        },
        branchNameId: {
            type: 'string',
            description: 'Indonesian name'
        },
        address: {
            type: 'string',
            description: 'Address'
        },
        city: {
            type: 'string',
            description: 'City'
        },
        province: {
            type: 'string',
            description: 'Province'
        },
        postalCode: {
            type: 'string',
            description: 'Postal code'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        },
        isActive: {
            type: 'boolean',
            description: 'Active status'
        }
    },
    description: 'Request body for updating a branch'
} as const;

export const UpdateChronicConditionRequestSchema = {
    type: 'object',
    properties: {
        icd10Code: {
            type: 'string',
            description: 'ICD-10 code'
        },
        conditionName: {
            type: 'string',
            description: 'Condition name'
        },
        conditionNameId: {
            type: 'string',
            description: 'Condition name in Indonesian'
        },
        diagnosisDate: {
            type: 'string',
            format: 'date',
            description: 'Diagnosis date'
        },
        isActive: {
            type: 'boolean',
            description: 'Is active'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for updating a chronic condition'
} as const;

export const UpdateDiagnosisRequestSchema = {
    type: 'object',
    properties: {
        icd10Code: {
            type: 'string',
            description: 'ICD-10 code'
        },
        icd10Description: {
            type: 'string',
            description: 'ICD-10 description'
        },
        diagnosisName: {
            type: 'string',
            description: 'Diagnosis name'
        },
        diagnosisNameId: {
            type: 'string',
            description: 'Diagnosis name in Indonesian'
        },
        diagnosisType: {
            allOf: [
                {
                    $ref: '#/components/schemas/DiagnosisType'
                }
            ],
            description: 'Diagnosis type'
        },
        verificationStatus: {
            allOf: [
                {
                    $ref: '#/components/schemas/DiagnosisVerification'
                }
            ],
            description: 'Verification status'
        },
        isChronic: {
            type: 'boolean',
            description: 'Is chronic'
        },
        onsetDate: {
            type: 'string',
            format: 'date',
            description: 'Onset date'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for updating a diagnosis'
} as const;

export const UpdateEncounterRequestSchema = {
    type: 'object',
    properties: {
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/EncounterStatus'
                }
            ],
            description: 'Status'
        },
        chiefComplaint: {
            type: 'string',
            description: 'Chief complaint'
        },
        reasonForVisit: {
            type: 'string',
            description: 'Reason for visit'
        },
        physicalExamination: {
            type: 'object',
            additionalProperties: {},
            description: 'Physical examination'
        },
        assessment: {
            type: 'string',
            description: 'Assessment'
        },
        plan: {
            type: 'string',
            description: 'Plan'
        },
        endTime: {
            type: 'string',
            format: 'date-time',
            description: 'End time'
        }
    },
    description: 'Request body for updating an encounter'
} as const;

export const UpdateExampleCommentRequestSchema = {
    type: 'object',
    properties: {
        content: {
            type: 'string',
            description: 'Comment content (optional)'
        }
    },
    description: 'Request body for updating a comment'
} as const;

export const UpdateExamplePostRequestSchema = {
    type: 'object',
    properties: {
        title: {
            type: 'string',
            description: 'Post title (optional)'
        },
        content: {
            type: 'string',
            description: 'Post content (optional)'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/ExamplePostStatus'
                }
            ],
            description: 'Post status (optional)'
        }
    },
    description: 'Request body for updating a post'
} as const;

export const UpdateFileRequestSchema = {
    type: 'object',
    properties: {
        access: {
            allOf: [
                {
                    $ref: '#/components/schemas/FileAccess'
                }
            ],
            description: 'New access level'
        }
    },
    description: 'Request to update file properties'
} as const;

export const UpdateInvoiceRequestSchema = {
    type: 'object',
    properties: {
        dueDate: {
            type: 'string',
            format: 'date-time',
            description: 'Due date'
        },
        discountPercent: {
            type: 'number',
            format: 'double',
            description: 'Discount percent'
        },
        discountReason: {
            type: 'string',
            description: 'Discount reason'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for updating invoice'
} as const;

export const UpdateJknConfigRequestSchema = {
    type: 'object',
    properties: {
        environment: {
            type: 'string',
            enum: [
                'development',
                'production'
            ],
            description: 'Environment'
        },
        consId: {
            type: 'string',
            description: 'Consumer ID'
        },
        secretKey: {
            type: 'string',
            description: 'Secret key (only set if changing)'
        },
        userKey: {
            type: 'string',
            description: 'User key (only set if changing)'
        },
        ppkPelayanan: {
            type: 'string',
            description: 'PPK Pelayanan'
        },
        ppkBpjs: {
            type: 'string',
            description: 'PPK BPJS'
        },
        facilityType: {
            allOf: [
                {
                    $ref: '#/components/schemas/BpjsFacilityType'
                }
            ],
            description: 'Facility type'
        },
        baseUrl: {
            type: 'string',
            description: 'Base URL'
        },
        isActive: {
            type: 'boolean',
            description: 'Is active'
        }
    },
    description: 'Request body for updating JKN config'
} as const;

export const UpdateLabOrderStatusRequestSchema = {
    type: 'object',
    properties: {
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabQueueStatus'
                }
            ],
            description: 'Status'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for updating lab order status'
} as const;

export const UpdateLabTestRequestSchema = {
    type: 'object',
    properties: {
        testName: {
            type: 'string',
            description: 'Test name'
        },
        testNameId: {
            type: 'string',
            description: 'Test name in Indonesian'
        },
        testCategory: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabTestCategory'
                }
            ],
            description: 'Test category'
        },
        testType: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabTestType'
                }
            ],
            description: 'Test type'
        },
        description: {
            type: 'string',
            description: 'Description'
        },
        specimenType: {
            type: 'string',
            description: 'Specimen type'
        },
        resultType: {
            allOf: [
                {
                    $ref: '#/components/schemas/LabResultType'
                }
            ],
            description: 'Result type'
        },
        unit: {
            type: 'string',
            description: 'Unit'
        },
        normalRange: {
            type: 'string',
            description: 'Normal range'
        },
        isActive: {
            type: 'boolean',
            description: 'Is active'
        }
    },
    description: 'Request body for updating a lab test'
} as const;

export const UpdateOrganizationRequestSchema = {
    type: 'object',
    properties: {
        orgName: {
            type: 'string',
            minLength: 1,
            maxLength: 255,
            description: 'Organization name'
        },
        orgNameId: {
            type: 'string',
            description: 'Indonesian name'
        },
        licenseNumber: {
            type: 'string',
            description: 'License number'
        },
        npwp: {
            type: 'string',
            description: 'NPWP'
        },
        bpjsPpkCode: {
            type: 'string',
            description: 'BPJS PPK code'
        },
        address: {
            type: 'string',
            description: 'Address'
        },
        city: {
            type: 'string',
            description: 'City'
        },
        province: {
            type: 'string',
            description: 'Province'
        },
        postalCode: {
            type: 'string',
            description: 'Postal code'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        },
        website: {
            type: 'string',
            format: 'uri',
            description: 'Website'
        },
        operatingHours: {
            type: 'object',
            additionalProperties: {},
            description: 'Operating hours'
        },
        isActive: {
            type: 'boolean',
            description: 'Active status'
        }
    },
    description: 'Request body for updating an organization'
} as const;

export const UpdatePatientAllergyRequestSchema = {
    type: 'object',
    properties: {
        allergyType: {
            allOf: [
                {
                    $ref: '#/components/schemas/AllergyType'
                }
            ],
            description: 'Allergy type'
        },
        allergen: {
            type: 'string',
            description: 'Allergen name'
        },
        allergenId: {
            type: 'string',
            description: 'Allergen in Indonesian'
        },
        severity: {
            allOf: [
                {
                    $ref: '#/components/schemas/AllergySeverity'
                }
            ],
            description: 'Severity'
        },
        reaction: {
            type: 'string',
            description: 'Reaction description'
        },
        onsetDate: {
            type: 'string',
            format: 'date',
            description: 'Onset date'
        },
        isActive: {
            type: 'boolean',
            description: 'Is active'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for updating a patient allergy'
} as const;

export const UpdatePatientRequestSchema = {
    type: 'object',
    properties: {
        firstName: {
            type: 'string',
            description: 'First name'
        },
        lastName: {
            type: 'string',
            description: 'Last name'
        },
        firstNameId: {
            type: 'string',
            description: 'First name in Indonesian'
        },
        lastNameId: {
            type: 'string',
            description: 'Last name in Indonesian'
        },
        bpjsNumber: {
            type: 'string',
            description: 'BPJS number'
        },
        address: {
            type: 'string',
            description: 'Address'
        },
        city: {
            type: 'string',
            description: 'City'
        },
        province: {
            type: 'string',
            description: 'Province'
        },
        postalCode: {
            type: 'string',
            description: 'Postal code'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        mobile: {
            type: 'string',
            description: 'Mobile'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        },
        occupation: {
            type: 'string',
            description: 'Occupation'
        },
        education: {
            type: 'string',
            description: 'Education level'
        },
        country: {
            type: 'string',
            description: 'Country'
        },
        emergencyContactName: {
            type: 'string',
            description: 'Emergency contact name'
        },
        emergencyContactPhone: {
            type: 'string',
            description: 'Emergency contact phone'
        },
        emergencyContactRelationship: {
            type: 'string',
            description: 'Emergency contact relationship'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/PatientStatus'
                }
            ],
            description: 'Status'
        }
    },
    description: 'Request body for updating a patient'
} as const;

export const UpdatePolyclinicRequestSchema = {
    type: 'object',
    properties: {
        polyclinicName: {
            type: 'string',
            description: 'Polyclinic name'
        },
        polyclinicNameId: {
            type: 'string',
            description: 'Indonesian name'
        },
        description: {
            type: 'string',
            description: 'Description'
        },
        location: {
            type: 'string',
            description: 'Location'
        },
        floor: {
            type: 'string',
            description: 'Floor'
        },
        queuePrefix: {
            type: 'string',
            description: 'Queue prefix'
        },
        bpjsPoliCode: {
            type: 'string',
            description: 'BPJS poli code'
        },
        operatingHours: {
            type: 'object',
            additionalProperties: {},
            description: 'Operating hours'
        },
        isActive: {
            type: 'boolean',
            description: 'Is active'
        }
    },
    description: 'Request body for updating a polyclinic'
} as const;

export const UpdatePractitionerRequestSchema = {
    type: 'object',
    properties: {
        firstName: {
            type: 'string',
            description: 'First name'
        },
        lastName: {
            type: 'string',
            description: 'Last name'
        },
        phone: {
            type: 'string',
            description: 'Phone'
        },
        mobile: {
            type: 'string',
            description: 'Mobile'
        },
        email: {
            type: 'string',
            format: 'email',
            description: 'Email'
        },
        specialty: {
            allOf: [
                {
                    $ref: '#/components/schemas/Specialty'
                }
            ],
            description: 'Specialty'
        },
        licenseNumber: {
            type: 'string',
            description: 'License number'
        },
        licenseExpiry: {
            type: 'string',
            format: 'date',
            description: 'License expiry'
        },
        nip: {
            type: 'string',
            description: 'NIP'
        },
        str: {
            type: 'string',
            description: 'STR'
        },
        sip: {
            type: 'string',
            description: 'SIP'
        },
        bio: {
            type: 'string',
            description: 'Bio'
        },
        isActive: {
            type: 'boolean',
            description: 'Active status'
        }
    },
    description: 'Request body for updating a practitioner'
} as const;

export const UpdatePractitionerScheduleRequestSchema = {
    type: 'object',
    properties: {
        startTime: {
            type: 'string',
            pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]$',
            description: 'Start time (HH:mm)'
        },
        endTime: {
            type: 'string',
            pattern: '^([01]?[0-9]|2[0-3]):[0-5][0-9]$',
            description: 'End time (HH:mm)'
        },
        isAvailable: {
            type: 'boolean',
            description: 'Is available'
        },
        effectiveTo: {
            type: 'string',
            format: 'date',
            description: 'Effective to'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for updating a schedule'
} as const;

export const UpdatePreferencesRequestSchema = {
    type: 'object',
    properties: {
        emailEnabled: {
            type: 'boolean',
            description: 'Email notifications enabled'
        },
        smsEnabled: {
            type: 'boolean',
            description: 'SMS notifications enabled'
        },
        whatsappEnabled: {
            type: 'boolean',
            description: 'WhatsApp notifications enabled'
        },
        telegramEnabled: {
            type: 'boolean',
            description: 'Telegram notifications enabled'
        },
        pushEnabled: {
            type: 'boolean',
            description: 'Push notifications enabled'
        },
        marketingEnabled: {
            type: 'boolean',
            description: 'Marketing notifications enabled'
        },
        transactionalEnabled: {
            type: 'boolean',
            description: 'Transactional notifications enabled'
        },
        securityEnabled: {
            type: 'boolean',
            description: 'Security notifications enabled'
        },
        systemEnabled: {
            type: 'boolean',
            description: 'System notifications enabled'
        },
        preferredEmail: {
            type: 'string',
            description: 'Preferred email address'
        },
        preferredPhone: {
            type: 'string',
            description: 'Preferred phone number'
        },
        preferredTelegramId: {
            type: 'string',
            description: 'Preferred Telegram ID'
        },
        quietHoursEnabled: {
            type: 'boolean',
            description: 'Quiet hours enabled'
        },
        quietHoursStart: {
            type: 'string',
            description: 'Quiet hours start time (HH:mm format)'
        },
        quietHoursEnd: {
            type: 'string',
            description: 'Quiet hours end time (HH:mm format)'
        },
        quietHoursTimezone: {
            type: 'string',
            description: 'Quiet hours timezone (IANA format)'
        }
    },
    description: 'Request body for updating notification preferences'
} as const;

export const UpdateProcedureRequestSchema = {
    type: 'object',
    properties: {
        status: {
            type: 'string',
            enum: [
                'preparation',
                'inProgress',
                'completed',
                'notDone',
                'stopped'
            ],
            description: 'Status'
        },
        outcome: {
            type: 'string',
            description: 'Outcome'
        },
        complication: {
            type: 'string',
            description: 'Complication'
        },
        followUpRequired: {
            type: 'boolean',
            description: 'Follow-up required'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for updating a procedure'
} as const;

export const UpdateRoleRequestSchema = {
    type: 'object',
    properties: {
        name: {
            type: 'string',
            minLength: 1,
            maxLength: 100,
            description: 'Role name'
        },
        description: {
            type: 'string',
            maxLength: 500,
            description: 'Role description'
        },
        permissions: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/PermissionInput'
            },
            description: 'Permissions to grant (replaces existing permissions)'
        }
    },
    description: 'Request to update a role'
} as const;

export const UpdateSatusehatConfigRequestSchema = {
    type: 'object',
    properties: {
        environment: {
            type: 'string',
            enum: [
                'sandbox',
                'production'
            ],
            description: 'Environment'
        },
        clientId: {
            type: 'string',
            description: 'OAuth2 client ID'
        },
        clientSecret: {
            type: 'string',
            description: 'OAuth2 client secret (only set if changing)'
        },
        satusehatOrgId: {
            type: 'string',
            description: 'SatuSehat organization ID'
        },
        authUrl: {
            type: 'string',
            description: 'Auth URL'
        },
        apiUrl: {
            type: 'string',
            description: 'API URL'
        },
        isActive: {
            type: 'boolean',
            description: 'Is active'
        }
    },
    description: 'Request body for updating SatuSehat config'
} as const;

export const UpdateWebhookRequestSchema = {
    type: 'object',
    properties: {
        url: {
            type: 'string',
            format: 'uri',
            description: 'URL to receive webhook payloads'
        },
        name: {
            type: 'string',
            maxLength: 100,
            description: 'Human-readable name'
        },
        description: {
            type: 'string',
            maxLength: 500,
            description: 'Description'
        },
        events: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Event types to subscribe to'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether the webhook is active'
        }
    },
    description: 'Request to update a webhook'
} as const;

export const UserContextSchema = {
    type: 'object',
    required: [
        'applicationId',
        'applicationName',
        'tenantId',
        'tenantName',
        'roles'
    ],
    properties: {
        applicationId: {
            type: 'string',
            description: 'Application ID',
            example: 'app_default'
        },
        applicationName: {
            type: 'string',
            description: 'Application name',
            example: 'My SaaS Platform'
        },
        tenantId: {
            type: 'string',
            description: 'Tenant ID',
            example: 'org_abc123'
        },
        tenantName: {
            type: 'string',
            description: 'Tenant name',
            example: 'Acme Corp'
        },
        roles: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Role names in this context',
            example: [
                'admin',
                'billing_manager'
            ]
        }
    },
    description: 'User\'s context across applications and tenants'
} as const;

export const UserContextListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/UserContext'
            }
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'User available contexts response (all apps/tenants user belongs to)'
} as const;

export const UserEffectivePermissionsSchema = {
    type: 'object',
    required: [
        'userId',
        'applicationId',
        'globalRoles',
        'tenantRoles',
        'effectivePermissions',
        'allowedActions'
    ],
    properties: {
        userId: {
            type: 'string',
            description: 'User ID',
            example: 'usr_123'
        },
        applicationId: {
            type: 'string',
            description: 'Application ID',
            example: 'app_default'
        },
        tenantId: {
            type: 'string',
            description: 'Tenant ID (context for permission calculation)',
            example: 'org_abc123'
        },
        globalRoles: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    id: {
                        type: 'string',
                        description: 'Role ID'
                    },
                    name: {
                        type: 'string',
                        description: 'Role name'
                    },
                    permissions: {
                        type: 'array',
                        items: {
                            $ref: '#/components/schemas/Permission'
                        },
                        description: 'Permissions from this role'
                    }
                },
                required: [
                    'id',
                    'name',
                    'permissions'
                ]
            },
            description: 'Global roles (app-scoped, no tenant)'
        },
        tenantRoles: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    id: {
                        type: 'string',
                        description: 'Role ID'
                    },
                    name: {
                        type: 'string',
                        description: 'Role name'
                    },
                    permissions: {
                        type: 'array',
                        items: {
                            $ref: '#/components/schemas/Permission'
                        },
                        description: 'Permissions from this role'
                    }
                },
                required: [
                    'id',
                    'name',
                    'permissions'
                ]
            },
            description: 'Tenant-specific roles'
        },
        effectivePermissions: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Permission'
            },
            description: 'Combined effective permissions (after deny-override resolution)'
        },
        allowedActions: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Simple list of allowed actions (for quick checks)',
            example: [
                'users:read',
                'users:update',
                'documents:read',
                'documents:update:owner'
            ]
        }
    },
    description: 'User\'s effective permissions\n\nRepresents the combined permissions from all roles assigned to a user\nwithin a specific application and tenant context.'
} as const;

export const UserEffectivePermissionsResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/UserEffectivePermissions'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'User effective permissions response'
} as const;

export const UserRoleAssignmentSchema = {
    type: 'object',
    required: [
        'id',
        'userId',
        'applicationId',
        'roleId',
        'roleName',
        'isGlobalRole',
        'assignedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Assignment ID',
            example: 'ura_abc123'
        },
        userId: {
            type: 'string',
            description: 'User ID',
            example: 'usr_123'
        },
        applicationId: {
            type: 'string',
            description: 'Application ID',
            example: 'app_default'
        },
        tenantId: {
            type: 'string',
            description: 'Tenant ID (null for global role assignments)',
            example: 'org_abc123'
        },
        roleId: {
            type: 'string',
            description: 'Role ID',
            example: 'role_admin'
        },
        roleName: {
            type: 'string',
            description: 'Role name (denormalized for convenience)',
            example: 'Admin'
        },
        isGlobalRole: {
            type: 'boolean',
            description: 'Whether this is a global role assignment'
        },
        assignedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the role was assigned'
        },
        assignedBy: {
            type: 'string',
            description: 'Who assigned the role',
            example: 'usr_owner'
        }
    },
    description: 'User\'s role assignment\n\nRepresents a single role assigned to a user within a specific\napplication and optional tenant context.'
} as const;

export const UserRoleAssignmentListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/UserRoleAssignment'
            }
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'User role assignments list response'
} as const;

export const UserRoleAssignmentResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/UserRoleAssignment'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'User role assignment response'
} as const;

export const VerifyLabResultRequestSchema = {
    type: 'object',
    properties: {
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for verifying lab result'
} as const;

export const VerifyPaymentRequestSchema = {
    type: 'object',
    properties: {
        notes: {
            type: 'string',
            description: 'Notes'
        }
    },
    description: 'Request body for verifying payment'
} as const;

export const VirusScanStatusSchema = {
    type: 'string',
    enum: [
        'pending',
        'scanning',
        'clean',
        'infected',
        'failed'
    ],
    description: 'Virus scan status for uploaded files'
} as const;

export const VitalSignsSchema = {
    type: 'object',
    required: [
        'id',
        'encounterId',
        'patientId',
        'recordedAt',
        'recordedBy',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique identifier'
        },
        encounterId: {
            type: 'string',
            description: 'Encounter ID'
        },
        patientId: {
            type: 'string',
            description: 'Patient ID'
        },
        temperature: {
            type: 'number',
            format: 'float',
            description: 'Temperature (Celsius)'
        },
        heartRate: {
            type: 'integer',
            format: 'int32',
            description: 'Heart rate (bpm)'
        },
        systolicBp: {
            type: 'integer',
            format: 'int32',
            description: 'Systolic blood pressure (mmHg)'
        },
        diastolicBp: {
            type: 'integer',
            format: 'int32',
            description: 'Diastolic blood pressure (mmHg)'
        },
        respiratoryRate: {
            type: 'integer',
            format: 'int32',
            description: 'Respiratory rate (per minute)'
        },
        oxygenSaturation: {
            type: 'number',
            format: 'float',
            description: 'Oxygen saturation (%)'
        },
        weight: {
            type: 'number',
            format: 'float',
            description: 'Weight (kg)'
        },
        height: {
            type: 'number',
            format: 'float',
            description: 'Height (cm)'
        },
        bmi: {
            type: 'number',
            format: 'float',
            description: 'BMI (calculated)'
        },
        bloodGlucose: {
            type: 'number',
            format: 'float',
            description: 'Blood glucose (mg/dL)'
        },
        notes: {
            type: 'string',
            description: 'Notes'
        },
        satusehatObservationId: {
            type: 'string',
            description: 'SatuSehat observation ID'
        },
        recordedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When recorded'
        },
        recordedBy: {
            type: 'string',
            description: 'Recorded by user ID'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When updated'
        }
    },
    description: 'Vital Signs record'
} as const;

export const VitalSignsResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            allOf: [
                {
                    $ref: '#/components/schemas/VitalSigns'
                }
            ],
            description: 'The resource data'
        },
        warnings: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Warning'
            },
            description: 'Non-fatal warnings (e.g., deprecation notices)'
        },
        meta: {
            allOf: [
                {
                    $ref: '#/components/schemas/ResponseMeta'
                }
            ],
            description: 'Response metadata'
        }
    },
    description: 'Vital signs response'
} as const;

export const VoidInvoiceRequestSchema = {
    type: 'object',
    required: [
        'reason'
    ],
    properties: {
        reason: {
            type: 'string',
            minLength: 1,
            description: 'Void reason'
        }
    },
    description: 'Request body for voiding invoice'
} as const;

export const WarningSchema = {
    type: 'object',
    required: [
        'code',
        'message'
    ],
    properties: {
        code: {
            type: 'string',
            description: 'Warning code (e.g., endpointDeprecated, pageSizeCapped)'
        },
        message: {
            type: 'string',
            description: 'Human-readable warning message'
        },
        documentationUrl: {
            type: 'string',
            description: 'URL to documentation about this warning (optional)'
        }
    },
    description: 'Warning message included in responses for non-fatal issues\n\nExamples: deprecated endpoints, capped page size, rate limit approaching'
} as const;

export const WebhookSchema = {
    type: 'object',
    required: [
        'id',
        'tenantId',
        'url',
        'events',
        'secret',
        'isActive',
        'consecutiveFailures',
        'createdBy',
        'createdAt',
        'updatedAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique webhook identifier (format: wh_abc123)',
            example: 'wh_abc123'
        },
        tenantId: {
            type: 'string',
            description: 'Tenant this webhook belongs to',
            example: 'org_xyz789'
        },
        url: {
            type: 'string',
            description: 'URL to receive webhook payloads',
            example: 'https://customer.com/webhooks/handler'
        },
        name: {
            type: 'string',
            description: 'Human-readable name for this webhook',
            example: 'Production Webhook'
        },
        description: {
            type: 'string',
            description: 'Description of what this webhook is used for'
        },
        events: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Event types to subscribe to (e.g., "user.created", "invoice.paid")',
            example: [
                'user.created',
                'user.updated',
                'invoice.paid'
            ]
        },
        secret: {
            type: 'string',
            description: 'Secret for HMAC-SHA256 signature verification (masked after creation)',
            example: 'whsec_...xyz'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether the webhook is currently active'
        },
        consecutiveFailures: {
            type: 'integer',
            format: 'int32',
            description: 'Number of consecutive failures (resets on success)'
        },
        lastTriggeredAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the webhook was last triggered'
        },
        lastSuccessAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the webhook last succeeded'
        },
        lastFailureAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the webhook last failed'
        },
        createdBy: {
            type: 'string',
            description: 'User who created this webhook',
            example: 'usr_admin123'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the webhook was created'
        },
        updatedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the webhook was last updated'
        }
    },
    description: 'Webhook configuration\n\nDefines an endpoint to receive event notifications.'
} as const;

export const WebhookCreatedResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/WebhookWithSecret'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Webhook creation response (includes secret once)'
} as const;

export const WebhookDeliverySchema = {
    type: 'object',
    required: [
        'id',
        'webhookId',
        'eventId',
        'eventType',
        'status',
        'attemptCount',
        'createdAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique delivery identifier (format: whd_abc123)',
            example: 'whd_abc123'
        },
        webhookId: {
            type: 'string',
            description: 'Webhook ID this delivery belongs to',
            example: 'wh_abc123'
        },
        eventId: {
            type: 'string',
            description: 'Event ID that triggered this delivery',
            example: 'wh_evt_xyz789'
        },
        eventType: {
            type: 'string',
            description: 'Event type',
            example: 'user.created'
        },
        status: {
            allOf: [
                {
                    $ref: '#/components/schemas/WebhookDeliveryStatus'
                }
            ],
            description: 'Delivery status'
        },
        attemptCount: {
            type: 'integer',
            format: 'int32',
            description: 'Number of delivery attempts made'
        },
        httpStatus: {
            type: 'integer',
            format: 'int32',
            description: 'HTTP status code from last attempt (null if not yet attempted)'
        },
        responseBody: {
            type: 'string',
            description: 'Response body from last attempt (truncated)'
        },
        errorMessage: {
            type: 'string',
            description: 'Error message if failed'
        },
        durationMs: {
            type: 'integer',
            format: 'int32',
            description: 'Duration of last request in milliseconds'
        },
        nextRetryAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the next retry will be attempted'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When this delivery was created'
        },
        lastAttemptAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the delivery was last attempted'
        },
        completedAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the delivery completed (success or exhausted)'
        }
    },
    description: 'Webhook delivery attempt record\n\nTracks each attempt to deliver a webhook payload.'
} as const;

export const WebhookDeliveryListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/WebhookDelivery'
            }
        },
        pagination: {
            $ref: '#/components/schemas/Pagination'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Webhook delivery list response'
} as const;

export const WebhookDeliveryResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/WebhookDelivery'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Webhook delivery response'
} as const;

export const WebhookDeliveryStatusSchema = {
    type: 'string',
    enum: [
        'pending',
        'delivered',
        'failed',
        'exhausted'
    ],
    description: 'Webhook delivery status'
} as const;

export const WebhookEventTypesResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            type: 'object',
            properties: {
                eventTypes: {
                    type: 'object',
                    additionalProperties: {
                        type: 'array',
                        items: {
                            type: 'string'
                        }
                    },
                    description: 'Available event types grouped by resource'
                }
            },
            required: [
                'eventTypes'
            ]
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Available webhook event types'
} as const;

export const WebhookListResponseSchema = {
    type: 'object',
    required: [
        'data',
        'pagination',
        'meta'
    ],
    properties: {
        data: {
            type: 'array',
            items: {
                $ref: '#/components/schemas/Webhook'
            }
        },
        pagination: {
            $ref: '#/components/schemas/Pagination'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Webhook list response'
} as const;

export const WebhookResponseSchema = {
    type: 'object',
    required: [
        'data',
        'meta'
    ],
    properties: {
        data: {
            $ref: '#/components/schemas/Webhook'
        },
        meta: {
            $ref: '#/components/schemas/ResponseMeta'
        }
    },
    description: 'Webhook response (secret masked)'
} as const;

export const WebhookWithSecretSchema = {
    type: 'object',
    required: [
        'id',
        'tenantId',
        'url',
        'events',
        'secret',
        'isActive',
        'createdAt'
    ],
    properties: {
        id: {
            type: 'string',
            description: 'Unique webhook identifier',
            example: 'wh_abc123'
        },
        tenantId: {
            type: 'string',
            description: 'Tenant this webhook belongs to'
        },
        url: {
            type: 'string',
            description: 'URL to receive webhook payloads'
        },
        name: {
            type: 'string',
            description: 'Webhook name'
        },
        events: {
            type: 'array',
            items: {
                type: 'string'
            },
            description: 'Event types subscribed to'
        },
        secret: {
            type: 'string',
            description: 'The webhook secret - ONLY RETURNED ONCE\nUse this for signature verification',
            example: 'whsec_abc123xyz789_secret'
        },
        isActive: {
            type: 'boolean',
            description: 'Whether the webhook is active'
        },
        createdAt: {
            type: 'string',
            format: 'date-time',
            description: 'When the webhook was created'
        }
    },
    description: 'Webhook with unmasked secret (only returned on creation)'
} as const;
